"use strict";(self.webpackChunkmeet_app=self.webpackChunkmeet_app||[]).push([[179],{582:()=>{function Ie(t){return"function"==typeof t}function eu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Vl=eu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function co(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class gn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ie(r))try{r()}catch(s){e=s instanceof Vl?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{lb(s)}catch(o){e=e??[],o instanceof Vl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Vl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)lb(e);else{if(e instanceof gn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&co(n,e)}remove(e){const{_finalizers:n}=this;n&&co(n,e),e instanceof gn&&e._removeParent(this)}}gn.EMPTY=(()=>{const t=new gn;return t.closed=!0,t})();const ub=gn.EMPTY;function cb(t){return t instanceof gn||t&&"closed"in t&&Ie(t.remove)&&Ie(t.add)&&Ie(t.unsubscribe)}function lb(t){Ie(t)?t():t.unsubscribe()}const ns={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ul={setTimeout(t,e,...n){const{delegate:r}=Ul;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Ul;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function db(t){Ul.setTimeout(()=>{const{onUnhandledError:e}=ns;if(!e)throw t;e(t)})}function hb(){}const hB=Zp("C",void 0,void 0);function Zp(t,e,n){return{kind:t,value:e,error:n}}let rs=null;function Bl(t){if(ns.useDeprecatedSynchronousErrorHandling){const e=!rs;if(e&&(rs={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=rs;if(rs=null,n)throw r}}else t()}class eg extends gn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,cb(e)&&e.add(this)):this.destination=vB}static create(e,n,r){return new tu(e,n,r)}next(e){this.isStopped?ng(function pB(t){return Zp("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ng(function fB(t){return Zp("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ng(hB,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const mB=Function.prototype.bind;function tg(t,e){return mB.call(t,e)}class yB{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){$l(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){$l(r)}else $l(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){$l(n)}}}class tu extends eg{constructor(e,n,r){let i;if(super(),Ie(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&ns.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&tg(e.next,s),error:e.error&&tg(e.error,s),complete:e.complete&&tg(e.complete,s)}):i=e}this.destination=new yB(i)}}function $l(t){ns.useDeprecatedSynchronousErrorHandling?function gB(t){ns.useDeprecatedSynchronousErrorHandling&&rs&&(rs.errorThrown=!0,rs.error=t)}(t):db(t)}function ng(t,e){const{onStoppedNotification:n}=ns;n&&Ul.setTimeout(()=>n(t,e))}const vB={closed:!0,next:hb,error:function _B(t){throw t},complete:hb},rg="function"==typeof Symbol&&Symbol.observable||"@@observable";function is(t){return t}function fb(t){return 0===t.length?is:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Fe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function EB(t){return t&&t instanceof eg||function IB(t){return t&&Ie(t.next)&&Ie(t.error)&&Ie(t.complete)}(t)&&cb(t)}(n)?n:new tu(n,r,i);return Bl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=pb(r))((i,s)=>{const o=new tu({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[rg](){return this}pipe(...n){return fb(n)(this)}toPromise(n){return new(n=pb(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function pb(t){var e;return null!==(e=t??ns.Promise)&&void 0!==e?e:Promise}const DB=eu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let or=(()=>{class t extends Fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new gb(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new DB}next(n){Bl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Bl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Bl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?ub:(this.currentObservers=null,s.push(n),new gn(()=>{this.currentObservers=null,co(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Fe;return n.source=this,n}}return t.create=(e,n)=>new gb(e,n),t})();class gb extends or{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:ub}}function mb(t){return Ie(t?.lift)}function ft(t){return e=>{if(mb(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pt(t,e,n,r,i){return new TB(t,e,n,r,i)}class TB extends eg{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ae(t,e){return ft((n,r)=>{let i=0;n.subscribe(pt(r,s=>{r.next(t.call(e,s,i++))}))})}function og(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function mi(t){return this instanceof mi?(this.v=t,this):new mi(t)}function vb(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof mi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function wb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function ug(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Ib=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Eb(t){return Ie(t?.then)}function Db(t){return Ie(t[rg])}function Tb(t){return Symbol.asyncIterator&&Ie(t?.[Symbol.asyncIterator])}function Cb(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const bb=function zB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Sb(t){return Ie(t?.[bb])}function Ab(t){return vb(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield mi(n.read());if(i)return yield mi(void 0);yield yield mi(r)}}finally{n.releaseLock()}})}function xb(t){return Ie(t?.getReader)}function ar(t){if(t instanceof Fe)return t;if(null!=t){if(Db(t))return function qB(t){return new Fe(e=>{const n=t[rg]();if(Ie(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Ib(t))return function WB(t){return new Fe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Eb(t))return function KB(t){return new Fe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,db)})}(t);if(Tb(t))return kb(t);if(Sb(t))return function QB(t){return new Fe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(xb(t))return function YB(t){return kb(Ab(t))}(t)}throw Cb(t)}function kb(t){return new Fe(e=>{(function JB(t,e){var n,r,i,s;return function yb(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=wb(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Pr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Dt(t,e,n=1/0){return Ie(e)?Dt((r,i)=>ae((s,o)=>e(r,s,i,o))(ar(t(r,i))),n):("number"==typeof e&&(n=e),ft((r,i)=>function XB(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let y=!1;ar(n(g,l++)).subscribe(pt(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const w=u.shift();o?Pr(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(pt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function lo(t=1/0){return Dt(is,t)}const Or=new Fe(t=>t.complete());function cg(t){return t[t.length-1]}function nu(t){return function e$(t){return t&&Ie(t.schedule)}(cg(t))?t.pop():void 0}function jl(t,e=0){return ft((n,r)=>{n.subscribe(pt(r,i=>Pr(r,t,()=>r.next(i),e),()=>Pr(r,t,()=>r.complete(),e),i=>Pr(r,t,()=>r.error(i),e)))})}function Hl(t,e=0){return ft((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Mb(t,e){if(!t)throw new Error("Iterable cannot be null");return new Fe(n=>{Pr(n,e,()=>{const r=t[Symbol.asyncIterator]();Pr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ot(t,e){return e?function u$(t,e){if(null!=t){if(Db(t))return function r$(t,e){return ar(t).pipe(Hl(e),jl(e))}(t,e);if(Ib(t))return function s$(t,e){return new Fe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Eb(t))return function i$(t,e){return ar(t).pipe(Hl(e),jl(e))}(t,e);if(Tb(t))return Mb(t,e);if(Sb(t))return function o$(t,e){return new Fe(n=>{let r;return Pr(n,e,()=>{r=t[bb](),Pr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Ie(r?.return)&&r.return()})}(t,e);if(xb(t))return function a$(t,e){return Mb(Ab(t),e)}(t,e)}throw Cb(t)}(t,e):ar(t)}function lg(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new tu({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function ve(t){for(let e in t)if(t[e]===ve)return e;throw Error("Could not find renamed property on target object.")}function we(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(we).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function hg(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d$=ve({__forward_ref__:ve});function fg(t){return t.__forward_ref__=fg,t.toString=function(){return we(this())},t}function q(t){return function pg(t){return"function"==typeof t&&t.hasOwnProperty(d$)&&t.__forward_ref__===fg}(t)?t():t}class N extends Error{constructor(e,n){super(function Gl(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}(e,n)),this.code=e}}function Y(t){return"string"==typeof t?t:null==t?"":String(t)}function zl(t,e){throw new N(-201,!1)}function yn(t,e){null==t&&function ge(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function ee(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ur(t){return{providers:t.providers||[],imports:t.imports||[]}}function ql(t){return Rb(t,Wl)||Rb(t,Pb)}function Rb(t,e){return t.hasOwnProperty(e)?t[e]:null}function Nb(t){return t&&(t.hasOwnProperty(gg)||t.hasOwnProperty(w$))?t[gg]:null}const Wl=ve({\u0275prov:ve}),gg=ve({\u0275inj:ve}),Pb=ve({ngInjectableDef:ve}),w$=ve({ngInjectorDef:ve});var G=(()=>((G=G||{})[G.Default=0]="Default",G[G.Host=1]="Host",G[G.Self=2]="Self",G[G.SkipSelf=4]="SkipSelf",G[G.Optional=8]="Optional",G))();let mg;function Rn(t){const e=mg;return mg=t,e}function Ob(t,e,n){const r=ql(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&G.Optional?null:void 0!==e?e:void zl(we(t))}function yi(t){return{toString:t}.toString()}var jn=(()=>((jn=jn||{})[jn.OnPush=0]="OnPush",jn[jn.Default=1]="Default",jn))(),cr=(()=>{return(t=cr||(cr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",cr;var t})();const Ee=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ho={},pe=[],Kl=ve({\u0275cmp:ve}),yg=ve({\u0275dir:ve}),_g=ve({\u0275pipe:ve}),Lb=ve({\u0275mod:ve}),Fr=ve({\u0275fac:ve}),ru=ve({__NG_ELEMENT_ID__:ve});let E$=0;function iu(t){return yi(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===jn.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||pe,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||cr.Emulated,id:"c"+E$++,styles:t.styles||pe,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.dependencies,o=t.features;return i.inputs=Ub(t.inputs,r),i.outputs=Ub(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(Fb).filter(Vb):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(qt).filter(Vb):null,i})}function Fb(t){return me(t)||zt(t)}function Vb(t){return null!==t}function Vr(t){return yi(()=>({type:t.type,bootstrap:t.bootstrap||pe,declarations:t.declarations||pe,imports:t.imports||pe,exports:t.exports||pe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ub(t,e){if(null==t)return ho;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const Pt=iu;function me(t){return t[Kl]||null}function zt(t){return t[yg]||null}function qt(t){return t[_g]||null}function _n(t,e){const n=t[Lb]||null;if(!n&&!0===e)throw new Error(`Type ${we(t)} does not have '\u0275mod' property.`);return n}function an(t){return Array.isArray(t)&&"object"==typeof t[1]}function Gn(t){return Array.isArray(t)&&!0===t[1]}function Ig(t){return 0!=(8&t.flags)}function Xl(t){return 2==(2&t.flags)}function Zl(t){return 1==(1&t.flags)}function zn(t){return null!==t.template}function A$(t){return 0!=(256&t[2])}function cs(t,e){return t.hasOwnProperty(Fr)?t[Fr]:null}class M${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function jb(t){return t.type.prototype.ngOnChanges&&(t.setInput=N$),R$}function R$(){const t=Gb(this),e=t?.current;if(e){const n=t.previous;if(n===ho)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function N$(t,e,n,r){const i=Gb(t)||function P$(t,e){return t[Hb]=e}(t,{previous:ho,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new M$(u&&u.currentValue,e,o===ho),t[r]=e}const Hb="__ngSimpleChanges__";function Gb(t){return t[Hb]||null}function Ze(t){for(;Array.isArray(t);)t=t[0];return t}function wn(t,e){return Ze(e[t.index])}function bg(t,e){return t.data[e]}function In(t,e){const n=e[t];return an(n)?n:n[0]}function td(t){return 64==(64&t[2])}function _i(t,e){return null==e?null:t[e]}function zb(t){t[18]=0}function Sg(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const K={lFrame:tS(null),bindingsEnabled:!0};function Wb(){return K.bindingsEnabled}function D(){return K.lFrame.lView}function le(){return K.lFrame.tView}function at(){let t=Kb();for(;null!==t&&64===t.type;)t=t.parent;return t}function Kb(){return K.lFrame.currentTNode}function lr(t,e){const n=K.lFrame;n.currentTNode=t,n.isParent=e}function Ag(){return K.lFrame.isParent}function _o(){return K.lFrame.bindingIndex++}function J$(t,e){const n=K.lFrame;n.bindingIndex=n.bindingRootIndex=t,kg(e)}function kg(t){K.lFrame.currentDirectiveIndex=t}function Rg(t){K.lFrame.currentQueryIndex=t}function Z$(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Zb(t,e,n){if(n&G.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&G.Host||(i=Z$(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=K.lFrame=eS();return r.currentTNode=e,r.lView=t,!0}function Ng(t){const e=eS(),n=t[1];K.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function eS(){const t=K.lFrame,e=null===t?null:t.child;return null===e?tS(t):e}function tS(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function nS(){const t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const rS=nS;function Pg(){const t=nS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Kt(){return K.lFrame.selectedIndex}function vi(t){K.lFrame.selectedIndex=t}function nd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function rd(t,e,n){iS(t,e,3,n)}function id(t,e,n,r){(3&t[2])===n&&iS(t,e,n,r)}function Og(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function iS(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(uj(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function uj(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class lu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function sd(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];oS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function sS(t){return 3===t||4===t||6===t}function oS(t){return 64===t.charCodeAt(0)}function od(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||aS(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function aS(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function uS(t){return-1!==t}function vo(t){return 32767&t}function wo(t,e){let n=function fj(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Fg=!0;function ad(t){const e=Fg;return Fg=t,e}let pj=0;const dr={};function hu(t,e){const n=Ug(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Vg(r.data,t),Vg(e,null),Vg(r.blueprint,null));const i=ud(t,e),s=t.injectorIndex;if(uS(i)){const o=vo(i),a=wo(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Vg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ug(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ud(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=yS(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function cd(t,e,n){!function gj(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ru)&&(r=n[ru]),null==r&&(r=n[ru]=pj++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function dS(t,e,n){if(n&G.Optional||void 0!==t)return t;zl()}function hS(t,e,n,r){if(n&G.Optional&&void 0===r&&(r=null),0==(n&(G.Self|G.Host))){const i=t[9],s=Rn(void 0);try{return i?i.get(e,r,n&G.Optional):Ob(e,r,n&G.Optional)}finally{Rn(s)}}return dS(r,0,n)}function fS(t,e,n,r=G.Default,i){if(null!==t){if(1024&e[2]){const o=function Ij(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=pS(s,o,n,r|G.Self,dr);if(a!==dr)return a;let u=s.parent;if(!u){const c=o[21];if(c){const l=c.get(n,dr,r);if(l!==dr)return l}u=yS(o),o=o[15]}s=u}return i}(t,e,n,r,dr);if(o!==dr)return o}const s=pS(t,e,n,r,dr);if(s!==dr)return s}return hS(e,n,r,i)}function pS(t,e,n,r,i){const s=function _j(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ru)?t[ru]:void 0;return"number"==typeof e?e>=0?255&e:vj:e}(n);if("function"==typeof s){if(!Zb(e,t,r))return r&G.Host?dS(i,0,r):hS(e,n,r,i);try{const o=s(r);if(null!=o||r&G.Optional)return o;zl()}finally{rS()}}else if("number"==typeof s){let o=null,a=Ug(t,e),u=-1,c=r&G.Host?e[16][6]:null;for((-1===a||r&G.SkipSelf)&&(u=-1===a?ud(t,e):e[a+8],-1!==u&&mS(r,!1)?(o=e[1],a=vo(u),e=wo(u,e)):a=-1);-1!==a;){const l=e[1];if(gS(s,a,l.data)){const d=yj(a,e,n,o,r,c);if(d!==dr)return d}u=e[a+8],-1!==u&&mS(r,e[1].data[a+8]===c)&&gS(s,a,e)?(o=l,a=vo(u),e=wo(u,e)):a=-1}}return i}function yj(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function ld(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&zn(f)&&f.type===n)return u}return null}(a,o,n,null==r?Xl(a)&&Fg:r!=o&&0!=(3&a.type),i&G.Host&&s===a);return null!==l?fu(e,o,l,a):dr}function fu(t,e,n,r){let i=t[n];const s=e.data;if(function cj(t){return t instanceof lu}(i)){const o=i;o.resolving&&function h$(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new N(-200,`Circular dependency in DI detected for ${t}${n}`)}(function fe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Y(t)}(s[n]));const a=ad(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Rn(o.injectImpl):null;Zb(t,r,G.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function aj(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=jb(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Rn(u),ad(a),o.resolving=!1,rS()}}return i}function gS(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function mS(t,e){return!(t&G.Self||t&G.Host&&e)}class Io{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return fS(this._tNode,this._lView,e,r,n)}}function vj(){return new Io(at(),D())}function yS(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}const Do="__parameters__";function Co(t,e,n){return yi(()=>{const r=function $g(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Do)?u[Do]:Object.defineProperty(u,Do,{value:[]})[Do];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class j{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ee({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $r(t,e){t.forEach(n=>Array.isArray(n)?$r(n,e):e(n))}function vS(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const _u={},zg="__NG_DI_FLAG__",fd="ngTempTokenPath",Nj=/\n/gm,DS="__source";let vu;function So(t){const e=vu;return vu=t,e}function Oj(t,e=G.Default){if(void 0===vu)throw new N(-203,!1);return null===vu?Ob(t,void 0,e):vu.get(t,e&G.Optional?null:void 0,e)}function B(t,e=G.Default){return(function I$(){return mg}()||Oj)(q(t),e)}function Ue(t,e=G.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),B(t,e)}function qg(t){const e=[];for(let n=0;n<t.length;n++){const r=q(t[n]);if(Array.isArray(r)){if(0===r.length)throw new N(900,!1);let i,s=G.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Lj(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(B(i,s))}else e.push(B(r))}return e}function wu(t,e){return t[zg]=e,t.prototype[zg]=e,t}function Lj(t){return t[zg]}const Qt=wu(Co("Optional"),8),Iu=wu(Co("SkipSelf"),4);var un=(()=>((un=un||{})[un.Important=1]="Important",un[un.DashCase=2]="DashCase",un))();const Jg=new Map;let eH=0;const Zg="__ngContext__";function Ft(t,e){an(e)?(t[Zg]=e[20],function nH(t){Jg.set(t[20],t)}(e)):t[Zg]=e}function tm(t,e){return undefined(t,e)}function Cu(t){const e=t[3];return Gn(e)?e[3]:e}function nm(t){return GS(t[13])}function rm(t){return GS(t[4])}function GS(t){for(;null!==t&&!Gn(t);)t=t[4];return t}function xo(t,e,n,r,i){if(null!=r){let s,o=!1;Gn(r)?s=r:an(r)&&(o=!0,r=r[0]);const a=Ze(r);0===t&&null!==n?null==i?YS(e,n,a):ds(e,n,a,i||null,!0):1===t&&null!==n?ds(e,n,a,i||null,!0):2===t?function lm(t,e,n){const r=md(t,e);r&&function TH(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function SH(t,e,n,r,i){const s=n[7];s!==Ze(n)&&xo(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];bu(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function sm(t,e,n){return t.createElement(e,n)}function qS(t,e){const n=t[9],r=n.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Sg(i,-1)),n.splice(r,1)}function om(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&qS(i,r),e>0&&(t[n-1][4]=r[4]);const s=dd(t,10+e);!function mH(t,e){bu(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function WS(t,e){if(!(128&e[2])){const n=e[11];n.destroyNode&&bu(t,e,n,3,null,null),function vH(t){let e=t[13];if(!e)return am(t[1],t);for(;e;){let n=null;if(an(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)an(e)&&am(e[1],e),e=e[3];null===e&&(e=t),an(e)&&am(e[1],e),n=e&&e[4]}e=n}}(e)}}function am(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function DH(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof lu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function EH(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):Ze(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(t,e),1===e[1].type&&e[11].destroy();const n=e[17];if(null!==n&&Gn(e[3])){n!==e[3]&&qS(n,e);const r=e[19];null!==r&&r.detachView(t)}!function rH(t){Jg.delete(t[20])}(e)}}function KS(t,e,n){return function QS(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===cr.None||i===cr.Emulated)return null}return wn(r,n)}(t,e.parent,n)}function ds(t,e,n,r,i){t.insertBefore(e,n,r,i)}function YS(t,e,n){t.appendChild(e,n)}function JS(t,e,n,r,i){null!==r?ds(t,e,n,r,i):YS(t,e,n)}function md(t,e){return t.parentNode(e)}let pm,eA=function ZS(t,e,n){return 40&t.type?wn(t,n):null};function yd(t,e,n,r){const i=KS(t,r,e),s=e[11],a=function XS(t,e,n){return eA(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)JS(s,i,n[u],a,!1);else JS(s,i,n,a,!1)}function _d(t,e){if(null!==e){const n=e.type;if(3&n)return wn(e,t);if(4&n)return cm(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return _d(t,r);{const i=t[e.index];return Gn(i)?cm(-1,i):Ze(i)}}if(32&n)return tm(e,t)()||Ze(t[e.index]);{const r=nA(t,e);return null!==r?Array.isArray(r)?r[0]:_d(Cu(t[16]),r):_d(t,e.next)}}return null}function nA(t,e){return null!==e?t[16][6].projection[e.projection]:null}function cm(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return _d(r,i)}return e[7]}function dm(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Ft(Ze(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)dm(t,e,n.child,r,i,s,!1),xo(e,t,i,a,s);else if(32&u){const c=tm(n,r);let l;for(;l=c();)xo(e,t,i,l,s);xo(e,t,i,a,s)}else 16&u?rA(t,e,r,n,i,s):xo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function bu(t,e,n,r,i,s){dm(n,r,t.firstChild,e,i,s,!1)}function rA(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)xo(e,t,i,u[c],s);else dm(t,e,u,o[3],i,s,!0)}function iA(t,e,n){t.setAttribute(e,"style",n)}function hm(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}const Im=new j("ENVIRONMENT_INITIALIZER"),yA=new j("INJECTOR",-1),_A=new j("INJECTOR_DEF_TYPES");class vA{get(e,n=_u){if(n===_u){const r=new Error(`NullInjectorError: No provider for ${we(e)}!`);throw r.name="NullInjectorError",r}return n}}function n4(...t){return{\u0275providers:wA(0,t)}}function wA(t,...e){const n=[],r=new Set;let i;return $r(e,s=>{const o=s;Em(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&IA(i,n),n}function IA(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];$r(i,s=>{e.push(s)})}}function Em(t,e,n,r){if(!(t=q(t)))return!1;let i=null,s=Nb(t);const o=!s&&me(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=Nb(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Em(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{$r(s.imports,l=>{Em(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&IA(c,e)}if(!a){const c=cs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:pe},{provide:_A,useValue:i,multi:!0},{provide:Im,useValue:()=>B(i),multi:!0})}const u=s.providers;null==u||a||$r(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}const r4=ve({provide:String,useValue:ve});function Dm(t){return null!==t&&"object"==typeof t&&r4 in t}function fs(t){return"function"==typeof t}const Tm=new j("Set Injector scope."),Ed={},s4={};let Cm;function Dd(){return void 0===Cm&&(Cm=new vA),Cm}class Ei{}class TA extends Ei{constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sm(e,o=>this.processProvider(o)),this.records.set(yA,ko(void 0,this)),i.has("environment")&&this.records.set(Ei,ko(void 0,this));const s=this.records.get(Tm);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(_A.multi,pe,G.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=So(this),r=Rn(void 0);try{return e()}finally{So(n),Rn(r)}}get(e,n=_u,r=G.Default){this.assertNotDestroyed();const i=So(this),s=Rn(void 0);try{if(!(r&G.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function l4(t){return"function"==typeof t||"object"==typeof t&&t instanceof j}(e)&&ql(e);a=u&&this.injectableDefInScope(u)?ko(bm(e),Ed):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&G.Self?Dd():this.parent).get(e,n=r&G.Optional&&n===_u?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[fd]=o[fd]||[]).unshift(we(e)),i)throw o;return function Fj(t,e,n,r){const i=t[fd];throw e[DS]&&i.unshift(e[DS]),t.message=function Vj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=we(e);if(Array.isArray(e))i=e.map(we).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):we(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Nj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[fd]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Rn(s),So(i)}}resolveInjectorInitializers(){const e=So(this),n=Rn(void 0);try{const r=this.get(Im.multi,pe,G.Self);for(const i of r)i()}finally{So(e),Rn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(we(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new N(205,!1)}processProvider(e){let n=fs(e=q(e))?e:q(e&&e.provide);const r=function a4(t){return Dm(t)?ko(void 0,t.useValue):ko(function CA(t,e,n){let r;if(fs(t)){const i=q(t);return cs(i)||bm(i)}if(Dm(t))r=()=>q(t.useValue);else if(function DA(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...qg(t.deps||[]));else if(function EA(t){return!(!t||!t.useExisting)}(t))r=()=>B(q(t.useExisting));else{const i=q(t&&(t.useClass||t.provide));if(!function u4(t){return!!t.deps}(t))return cs(i)||bm(i);r=()=>new i(...qg(t.deps))}return r}(t),Ed)}(e);if(fs(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ko(void 0,Ed,!0),i.factory=()=>qg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Ed&&(n.value=s4,n.value=n.factory()),"object"==typeof n.value&&n.value&&function c4(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=q(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function bm(t){const e=ql(t),n=null!==e?e.factory:cs(t);if(null!==n)return n;if(t instanceof j)throw new N(204,!1);if(t instanceof Function)return function o4(t){const e=t.length;if(e>0)throw function yu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new N(204,!1);const n=function _$(t){const e=t&&(t[Wl]||t[Pb]);if(e){const n=function v$(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new N(204,!1)}function ko(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function d4(t){return!!t.\u0275providers}function Sm(t,e){for(const n of t)Array.isArray(n)?Sm(n,e):d4(n)?Sm(n.\u0275providers,e):e(n)}class bA{}class p4{resolveComponentFactory(e){throw function f4(t){const e=Error(`No component factory found for ${we(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let ku=(()=>{class t{}return t.NULL=new p4,t})();function g4(){return Mo(at(),D())}function Mo(t,e){return new Di(wn(t,e))}let Di=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=g4,t})();class AA{}let _4=(()=>{class t{}return t.\u0275prov=ee({token:t,providedIn:"root",factory:()=>null}),t})();class Mu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const xA=new Mu("14.3.0"),Am={};function km(t){return t.ngOriginalError}class Ro{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&km(e);for(;n&&km(n);)n=km(n);return n||null}}function Hr(t){return t instanceof Function?t():t}function MA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const RA="ng-template";function x4(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==MA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function NA(t){return 4===t.type&&t.value!==RA}function k4(t,e,n){return e===(4!==t.type||n?t.value:RA)}function M4(t,e,n){let r=4;const i=t.attrs||[],s=function P4(t){for(let e=0;e<t.length;e++)if(sS(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!k4(t,u,n)||""===u&&1===e.length){if(qn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!x4(t.attrs,c,n)){if(qn(r))return!1;o=!0}continue}const d=R4(8&r?"class":u,i,NA(t),n);if(-1===d){if(qn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==MA(f,c,0)||2&r&&c!==h){if(qn(r))return!1;o=!0}}}}else{if(!o&&!qn(r)&&!qn(u))return!1;if(o&&qn(u))continue;o=!1,r=u|1&r}}return qn(r)||o}function qn(t){return 0==(1&t)}function R4(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function O4(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function PA(t,e,n=!1){for(let r=0;r<e.length;r++)if(M4(t,e[r],n))return!0;return!1}function OA(t,e){return t?":not("+e.trim()+")":e}function F4(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!qn(o)&&(e+=OA(s,i),i=""),r=o,s=s||!qn(r);n++}return""!==i&&(e+=OA(s,i)),e}const J={};function Cd(t){LA(le(),D(),Kt()+t,!1)}function LA(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&rd(e,s,n)}else{const s=t.preOrderHooks;null!==s&&id(e,s,0,n)}vi(n)}function BA(t,e=null,n=null,r){const i=$A(t,e,n,r);return i.resolveInjectorInitializers(),i}function $A(t,e=null,n=null,r,i=new Set){const s=[n||pe,n4(t)];return r=r||("object"==typeof t?void 0:we(t)),new TA(s,e||Dd(),r||null,i)}let Tn=(()=>{class t{static create(n,r){if(Array.isArray(n))return BA({name:""},r,n,"");{const i=n.name??"";return BA({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=_u,t.NULL=new vA,t.\u0275prov=ee({token:t,providedIn:"any",factory:()=>B(yA)}),t.__NG_ELEMENT_ID__=-1,t})();function V(t,e=G.Default){const n=D();return null===n?B(t,e):fS(at(),n,q(t),e)}function Om(){throw new Error("invalid")}function ix(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];Rg(i),o.contentQueries(2,e[s],s)}}}function kd(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==l||t&&1024&t[2])&&(d[2]|=1024),zb(d),d[3]=d[15]=t,d[8]=n,d[10]=o||t&&t[10],d[11]=a||t&&t[11],d[12]=u||t&&t[12]||null,d[9]=c||t&&t[9]||null,d[6]=s,d[20]=function tH(){return eH++}(),d[21]=l,d[16]=2==e.type?t[16]:d,d}function Oo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function qm(t,e,n,r,i){const s=Kb(),o=Ag(),u=t.data[e]=function vG(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function Y$(){return K.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function cu(){const t=K.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return lr(s,!0),s}function Lo(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Wm(t,e,n){Ng(e);try{const r=t.viewQuery;null!==r&&ty(1,r,n);const i=t.template;null!==i&&sx(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ix(t,e),t.staticViewQueries&&ty(2,t.viewQuery,n);const s=t.components;null!==s&&function mG(t,e){for(let n=0;n<e.length;n++)OG(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Pg()}}function Md(t,e,n,r){const i=e[2];if(128!=(128&i)){Ng(e);try{zb(e),function Yb(t){return K.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&sx(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&rd(e,c,null)}else{const c=t.preOrderHooks;null!==c&&id(e,c,0,null),Og(e,0)}if(function NG(t){for(let e=nm(t);null!==e;e=rm(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(512&i[2])&&Sg(s,1),i[2]|=512}}}(e),function RG(t){for(let e=nm(t);null!==e;e=rm(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];td(r)&&Md(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&ix(t,e),o){const c=t.contentCheckHooks;null!==c&&rd(e,c)}else{const c=t.contentHooks;null!==c&&id(e,c,1),Og(e,1)}!function pG(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)vi(~i);else{const s=i,o=n[++r],a=n[++r];J$(o,s),a(2,e[s])}}}finally{vi(-1)}}(t,e);const a=t.components;null!==a&&function gG(t,e){for(let n=0;n<e.length;n++)PG(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&ty(2,u,r),o){const c=t.viewCheckHooks;null!==c&&rd(e,c)}else{const c=t.viewHooks;null!==c&&id(e,c,2),Og(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Sg(e[3],-1))}finally{Pg()}}}function sx(t,e,n,r,i){const s=Kt(),o=2&r;try{vi(-1),o&&e.length>22&&LA(t,e,22,!1),n(r,i)}finally{vi(s)}}function ax(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ym(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ym(t,e,n,r,i,s,o,a,u,c){const l=22+r,d=l+i,h=function yG(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:J);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function cx(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function lx(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||NA(e)?null:MG(d,s);o.push(h),a=cx(d,c,a),u=cx(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}function dx(t,e){const n=In(e,t);16&n[2]||(n[2]|=32)}function hx(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function DG(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function fx(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function px(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function AG(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;zn(e)&&(n[""]=t)}}function gx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function mx(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=cs(i.type)),o=new lu(s,zn(i),V);t.blueprint[r]=o,n[r]=o,hx(t,e,0,r,Lo(t,n,i.hostVars,J),i)}function xG(t,e,n){const r=wn(e,t),i=ax(n),s=t[10],o=Rd(t,kd(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}function kG(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function MG(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function PG(t,e){const n=In(e,t);if(td(n)){const r=n[1];48&n[2]?Md(r,n,r.template,n[8]):n[5]>0&&Zm(n)}}function Zm(t){for(let r=nm(t);null!==r;r=rm(r))for(let i=10;i<r.length;i++){const s=r[i];if(td(s))if(512&s[2]){const o=s[1];Md(o,s,o.template,s[8])}else s[5]>0&&Zm(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=In(n[r],t);td(i)&&i[5]>0&&Zm(i)}}function OG(t,e){const n=In(e,t),r=n[1];(function LG(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Wm(r,n,n[8])}function Rd(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ey(t){for(;t;){t[2]|=32;const e=Cu(t);if(A$(t)&&!e)return t;t=e}return null}function Nd(t,e,n,r=!0){const i=e[10];i.begin&&i.begin();try{Md(t,e,t.template,n)}catch(o){throw r&&Ix(e,o),o}finally{i.end&&i.end()}}function ty(t,e,n){Rg(0),e(t,n)}function _x(t){return t[7]||(t[7]=[])}function vx(t){return t.cleanup||(t.cleanup=[])}function Ix(t,e){const n=t[9],r=n?n.get(Ro,null):null;r&&r.handleError(e)}function ny(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function zr(t,e,n){const r=function ed(t,e){return Ze(e[t])}(e,t);!function zS(t,e,n){t.setValue(e,n)}(t[11],r,n)}function Pd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=hg(i,a):2==s&&(r=hg(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Od(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Ze(s)),Gn(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&Od(u[1],u,c,r)}const o=n.type;if(8&o)Od(t,e,n.child,r);else if(32&o){const a=tm(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=nA(e,n);if(Array.isArray(a))r.push(...a);else{const u=Cu(e[16]);Od(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ru{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Od(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Gn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(om(e,r),dd(n,r))}this._attachedToViewContainer=!1}WS(this._lView[1],this._lView)}onDestroy(e){!function ux(t,e,n,r){const i=_x(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&vx(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){ey(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Nd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _H(t,e){bu(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=e}}class FG extends Ru{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Nd(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class ry extends ku{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=me(e);return new Nu(n,this.ngModule)}}function Ex(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class UG{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){const i=this.injector.get(e,Am,r);return i!==Am||n===Am?i:this.parentInjector.get(e,n,r)}}class Nu extends bA{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function V4(t){return t.map(F4).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Ex(this.componentDef.inputs)}get outputs(){return Ex(this.componentDef.outputs)}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Ei?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new UG(e,s):e,a=o.get(AA,null);if(null===a)throw new N(407,!1);const u=o.get(_4,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function _G(t,e,n){return t.selectRootElement(e,n===cr.ShadowDom)}(c,r,this.componentDef.encapsulation):sm(c,l,function VG(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=Ym(0,null,null,1,0,null,null,null,null,null),p=kd(null,f,null,h,null,null,a,c,u,o,null);let g,y;Ng(p);try{const w=function jG(t,e,n,r,i,s){const o=n[1];n[22]=t;const u=Oo(o,22,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(Pd(u,c,!0),null!==t&&(sd(i,t,c),null!==u.classes&&hm(i,t,u.classes),null!==u.styles&&iA(i,t,u.styles)));const l=r.createRenderer(t,e),d=kd(n,ax(e),null,e.onPush?32:16,n[22],u,r,l,s||null,null,null);return o.firstCreatePass&&(cd(hu(u,n),o,e.type),px(o,u),gx(u,n.length,1)),Rd(n,d),n[22]=d}(d,this.componentDef,p,a,c);if(d)if(r)sd(c,d,["ng-version",xA.full]);else{const{attrs:E,classes:_}=function U4(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!qn(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);E&&sd(c,d,E),_&&_.length>0&&hm(c,d,_.join(" "))}if(y=bg(f,22),void 0!==n){const E=y.projection=[];for(let _=0;_<this.ngContentSelectors.length;_++){const x=n[_];E.push(null!=x?Array.from(x):null)}}g=function HG(t,e,n,r){const i=n[1],s=function EG(t,e,n){const r=at();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),mx(t,r,e,Lo(t,e,1,null),n),lx(t,r));const i=fu(e,t,r.directiveStart,r);Ft(i,e);const s=wn(r,e);return s&&Ft(s,e),i}(i,n,e);if(t[8]=n[8]=s,null!==r)for(const a of r)a(s,e);if(e.contentQueries){const a=at();e.contentQueries(1,s,a.directiveStart)}const o=at();return!i.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(vi(o.index),hx(n[1],o,0,o.directiveStart,o.directiveEnd,e),fx(e,s)),s}(w,this.componentDef,p,[GG]),Wm(f,p,null)}finally{Pg()}return new $G(this.componentType,g,Mo(y,p),p,y)}}class $G extends class h4{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new FG(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;ny(s[1],s,i,e,n),dx(s,this._tNode.index)}}get injector(){return new Io(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function GG(){const t=at();nd(D()[1],t)}function Vt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Vd(t,e,n){const r=D();return Vt(r,_o(),e)&&function Cn(t,e,n,r,i,s,o,a){const u=wn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(ny(t,n,l,r,i),Xl(e)&&dx(n,e.index)):3&e.type&&(r=function wG(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(le(),function Ne(){const t=K.lFrame;return bg(t.tView,t.selectedIndex)}(),r,t,e,r[11],n,!1),Vd}function ay(t,e,n,r,i){const o=i?"class":"style";ny(t,n,e.inputs[o],o,r)}function Ln(t,e,n,r){const i=D(),s=le(),o=22+t,a=i[11],u=i[o]=sm(a,e,function oj(){return K.lFrame.currentNamespace}()),c=s.firstCreatePass?function oz(t,e,n,r,i,s,o){const a=e.consts,c=Oo(e,t,2,i,_i(a,s));return function Jm(t,e,n,r){let i=!1;if(Wb()){const s=function bG(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];PA(n,o.selectors,!1)&&(i||(i=[]),cd(hu(n,e),t,o.type),zn(o)?(px(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,gx(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=Lo(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=od(n.mergedAttrs,d.hostAttrs),mx(t,n,e,c,d),AG(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}lx(t,n)}o&&function SG(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new N(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=od(n.mergedAttrs,n.attrs),i}(e,n,c,_i(a,o)),null!==c.attrs&&Pd(c,c.attrs,!1),null!==c.mergedAttrs&&Pd(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];lr(c,!0);const l=c.mergedAttrs;null!==l&&sd(a,u,l);const d=c.classes;null!==d&&hm(a,u,d);const h=c.styles;return null!==h&&iA(a,u,h),64!=(64&c.flags)&&yd(s,i,u,c),0===function j$(){return K.lFrame.elementDepthCount}()&&Ft(u,i),function H$(){K.lFrame.elementDepthCount++}(),Zl(c)&&(function Km(t,e,n){!Wb()||(function TG(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||hu(n,e),Ft(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=zn(u);c&&xG(e,n,u);const l=fu(e,t,a,n);Ft(l,e),null!==o&&kG(0,a-i,l,u,0,o),c&&(In(n.index,e)[8]=l)}}(t,e,n,wn(n,e)),128==(128&n.flags)&&function CG(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function X$(){return K.lFrame.currentDirectiveIndex}();try{vi(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];kg(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&fx(u,c)}}finally{vi(-1),kg(o)}}(t,e,n))}(s,i,c),function ox(t,e,n){if(Ig(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&function Qm(t,e,n=wn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}(i,c),Ln}function bn(){let t=at();Ag()?function xg(){K.lFrame.isParent=!1}():(t=t.parent,lr(t,!1));const e=t;!function G$(){K.lFrame.elementDepthCount--}();const n=le();return n.firstCreatePass&&(nd(n,t),Ig(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function dj(t){return 0!=(16&t.flags)}(e)&&ay(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function hj(t){return 0!=(32&t.flags)}(e)&&ay(n,e,D(),e.stylesWithoutHost,!1),bn}function qo(t,e,n,r){return Ln(t,e,n,r),bn(),qo}function Ud(t){return!!t&&"function"==typeof t.then}const Lx=function Ox(t){return!!t&&"function"==typeof t.subscribe};function pr(t,e,n,r){const i=D(),s=le(),o=at();return function Vx(t,e,n,r,i,s,o,a){const u=Zl(r),l=t.firstCreatePass&&vx(t),d=e[8],h=_x(e);let f=!0;if(3&r.type||a){const y=wn(r,e),w=a?a(y):y,E=h.length,_=a?F=>a(Ze(F[r.index])):r.index;let x=null;if(!a&&u&&(x=function cz(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==x)(x.__ngLastListenerFn__||x).__ngNextListenerFn__=s,x.__ngLastListenerFn__=s,f=!1;else{s=Bx(r,e,d,s,!1);const F=n.listen(w,i,s);h.push(s,F),l&&l.push(i,_,E,E+1)}}else s=Bx(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const y=g.length;if(y)for(let w=0;w<y;w+=2){const U=e[g[w]][g[w+1]].subscribe(s),ke=h.length;h.push(s,U),l&&l.push(i,r.index,ke,-(ke+1))}}}(s,i,i[11],o,t,e,0,r),pr}function Ux(t,e,n,r){try{return!1!==n(r)}catch(i){return Ix(t,i),!1}}function Bx(t,e,n,r,i){return function s(o){if(o===Function)return r;ey(2&t.flags?In(t.index,e):e);let u=Ux(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=Ux(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function qr(t,e=""){const n=D(),r=le(),i=t+22,s=r.firstCreatePass?Oo(r,i,1,e,null):r.data[i],o=n[i]=function im(t,e){return t.createText(e)}(n[11],e);yd(r,n,o,s),lr(s,!1)}function hy(t){return fy("",t,""),hy}function fy(t,e,n){const r=D(),i=function Vo(t,e,n,r){return Vt(t,_o(),n)?e+Y(n)+r:J}(r,t,e,n);return i!==J&&zr(r,Kt(),i),fy}const Qo="en-US";let Rk=Qo;class ys{}class iM{}class sM extends ys{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ry(this);const r=_n(e);this._bootstrapComponents=Hr(r.bootstrap),this._r3Injector=$A(e,n,[{provide:ys,useValue:this},{provide:ku,useValue:this.componentFactoryResolver}],we(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class wy extends iM{constructor(e){super(),this.moduleType=e}create(e){return new sM(this.moduleType,e)}}class X3 extends ys{constructor(e,n,r){super(),this.componentFactoryResolver=new ry(this),this.instance=null;const i=new TA([...e,{provide:ys,useValue:this},{provide:ku,useValue:this.componentFactoryResolver}],n||Dd(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function zd(t,e,n=null){return new X3(t,e,n).injector}let Z3=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=wA(0,n.type),i=r.length>0?zd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=ee({token:t,providedIn:"environment",factory:()=>new t(B(Ei))}),t})();function oM(t){t.getStandaloneInjector=e=>e.get(Z3).getOrCreateStandaloneInjector(t)}function Ey(t){return e=>{setTimeout(t,void 0,e)}}const Xt=class Cq extends or{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Ey(s),i&&(i=Ey(i)),o&&(o=Ey(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof gn&&e.add(a),a}};let Yn=(()=>{class t{}return t.__NG_ELEMENT_ID__=kq,t})();function kq(){return function wM(t,e){let n;const r=e[t.index];if(Gn(r))n=r;else{let i;if(8&t.type)i=Ze(r);else{const s=e[11];i=s.createComment("");const o=wn(t,e);ds(s,md(s,o),i,function CH(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=function yx(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}(r,e,i,t),Rd(e,n)}return new _M(n,t,e)}(at(),D())}const Mq=Yn,_M=class extends Mq{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Mo(this._hostTNode,this._hostLView)}get injector(){return new Io(this._hostTNode,this._hostLView)}get parentInjector(){const e=ud(this._hostTNode,this._hostLView);if(uS(e)){const n=wo(e,this._hostLView),r=vo(e);return new Io(n[1].data[r+8],n)}return new Io(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=vM(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function mu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new Nu(me(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(Ei,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function $$(t){return Gn(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new _M(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function wH(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],vS(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function IH(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=64}(i,r,o,s);const a=cm(s,o),u=r[11],c=md(u,o[7]);return null!==c&&function yH(t,e,n,r,i,s){r[0]=i,r[6]=e,bu(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),vS(Ty(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=vM(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=om(this._lContainer,n);r&&(dd(Ty(this._lContainer),n),WS(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=om(this._lContainer,n);return r&&null!=dd(Ty(this._lContainer),n)?new Ru(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function vM(t){return t[8]}function Ty(t){return t[8]||(t[8]=[])}function Kd(...t){}const Qd=new j("Application Initializer");let Yd=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Kd,this.reject=Kd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Ud(s))n.push(s);else if(Lx(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(B(Qd,8))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const zu=new j("AppId",{providedIn:"root",factory:function GM(){return`${Fy()}${Fy()}${Fy()}`}});function Fy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const zM=new j("Platform Initializer"),Jd=new j("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),qM=new j("appBootstrapListener");let a6=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Kr=new j("LocaleId",{providedIn:"root",factory:()=>Ue(Kr,G.Optional|G.SkipSelf)||function u6(){return typeof $localize<"u"&&$localize.locale||Qo}()});class l6{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Vy=(()=>{class t{compileModuleSync(n){return new wy(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Hr(_n(n).declarations).reduce((o,a)=>{const u=me(a);return u&&o.push(new Nu(u)),o},[]);return new l6(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const f6=(()=>Promise.resolve(0))();function Uy(t){typeof Zone>"u"?f6.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class $e{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xt(!1),this.onMicrotaskEmpty=new Xt(!1),this.onStable=new Xt(!1),this.onError=new Xt(!1),typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function p6(){let t=Ee.requestAnimationFrame,e=Ee.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function y6(t){const e=()=>{!function m6(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ee,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,$y(t),t.isCheckStableRunning=!0,By(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),$y(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return QM(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),YM(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return QM(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),YM(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,$y(t),By(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$e.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if($e.isInAngularZone())throw new N(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,g6,Kd,Kd);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const g6={};function By(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function $y(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function QM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function YM(t){t._nesting--,By(t)}class _6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xt,this.onMicrotaskEmpty=new Xt,this.onStable=new Xt,this.onError=new Xt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const JM=new j(""),Xd=new j("");let Gy,jy=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Gy||(function v6(t){Gy=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$e.assertNotInAngularZone(),Uy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Uy(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(B($e),B(Hy),B(Xd))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})(),Hy=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Gy?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),bi=null;const XM=new j("AllowMultipleToken"),zy=new j("PlatformDestroyListeners");class ZM{constructor(e,n){this.name=e,this.token=n}}function tR(t,e,n=[]){const r=`Platform: ${e}`,i=new j(r);return(s=[])=>{let o=qy();if(!o||o.injector.get(XM,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function E6(t){if(bi&&!bi.get(XM,!1))throw new N(400,!1);bi=t;const e=t.get(rR);(function eR(t){const e=t.get(zM,null);e&&e.forEach(n=>n())})(t)}(function nR(t=[],e){return Tn.create({name:e,providers:[{provide:Tm,useValue:"platform"},{provide:zy,useValue:new Set([()=>bi=null])},...t]})}(a,r))}return function T6(t){const e=qy();if(!e)throw new N(401,!1);return e}()}}function qy(){return bi?.get(rR)??null}let rR=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function sR(t,e){let n;return n="noop"===t?new _6:("zone.js"===t?void 0:t)||new $e(e),n}(r?.ngZone,function iR(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:$e,useValue:i}];return i.run(()=>{const o=Tn.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get(Ro,null);if(!u)throw new N(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{eh(this._modules,a),c.unsubscribe()})}),function oR(t,e,n){try{const r=n();return Ud(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(Yd);return c.runInitializers(),c.donePromise.then(()=>(function Nk(t){yn(t,"Expected localeId to be defined"),"string"==typeof t&&(Rk=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Kr,Qo)||Qo),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=aR({},r);return function w6(t,e,n){const r=new wy(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Zd);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new N(403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new N(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(zy,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(B(Tn))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function aR(t,e){return Array.isArray(e)?e.reduce(aR,t):{...t,...e}}let Zd=(()=>{class t{constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Fe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Fe(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{$e.assertNotInAngularZone(),Uy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{$e.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function c$(...t){const e=nu(t),n=function n$(t,e){return"number"==typeof cg(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?ar(r[0]):lo(n)(ot(r,e)):Or}(s,o.pipe(function l$(t={}){const{connector:e=(()=>new or),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return ft((g,y)=>{c++,!d&&!l&&h();const w=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=lg(p,i))}),w.subscribe(y),!o&&c>0&&(o=new tu({next:E=>w.next(E),error:E=>{d=!0,h(),a=lg(f,n,E),w.error(E)},complete:()=>{l=!0,h(),a=lg(f,r),w.complete()}}),ar(g).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof bA;if(!this._injector.get(Yd).done)throw!i&&function fo(t){const e=me(t)||zt(t)||qt(t);return null!==e&&e.standalone}(n),new N(405,false);let o;o=i?n:this._injector.get(ku).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function I6(t){return t.isBoundToModule}(o)?void 0:this._injector.get(ys),c=o.create(Tn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(JM,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),eh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new N(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;eh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(qM,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>eh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new N(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(B($e),B(Ei),B(Ro))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function eh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let cR=!0,Wy=(()=>{class t{}return t.__NG_ELEMENT_ID__=S6,t})();function S6(t){return function A6(t,e,n){if(Xl(t)&&!n){const r=In(t.index,e);return new Ru(r,r)}return 47&t.type?new Ru(e[16],e):null}(at(),D(),16==(16&t))}const $6=tR(null,"core",[]);let j6=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(B(Zd))},t.\u0275mod=Vr({type:t}),t.\u0275inj=ur({}),t})(),ih=null;function Si(){return ih}const cn=new j("DocumentToken");let Xy=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:function(){return function q6(){return B(wR)}()},providedIn:"platform"}),t})();const W6=new j("Location Initialized");let wR=(()=>{class t extends Xy{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Si().getBaseHref(this._doc)}onPopState(n){const r=Si().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Si().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){IR()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){IR()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(B(cn))},t.\u0275prov=ee({token:t,factory:function(){return function K6(){return new wR(B(cn))}()},providedIn:"platform"}),t})();function IR(){return!!window.history.pushState}function Zy(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function ER(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Yr(t){return t&&"?"!==t[0]?"?"+t:t}let vs=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:function(){return Ue(TR)},providedIn:"root"}),t})();const DR=new j("appBaseHref");let TR=(()=>{class t extends vs{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Ue(cn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Zy(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Yr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Yr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Yr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(B(Xy),B(DR,8))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Q6=(()=>{class t extends vs{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Zy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Yr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Yr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(B(Xy),B(DR,8))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})(),e_=(()=>{class t{constructor(n){this._subject=new Xt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._baseHref=ER(CR(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Yr(r))}normalize(n){return t.stripTrailingSlash(function J6(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,CR(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Yr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Yr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Yr,t.joinWithSlash=Zy,t.stripTrailingSlash=ER,t.\u0275fac=function(n){return new(n||t)(B(vs))},t.\u0275prov=ee({token:t,factory:function(){return function Y6(){return new e_(B(vs))}()},providedIn:"root"}),t})();function CR(t){return t.replace(/\/index.html$/,"")}let pW=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vr({type:t}),t.\u0275inj=ur({}),t})();let _W=(()=>{class t{}return t.\u0275prov=ee({token:t,providedIn:"root",factory:()=>new vW(B(cn),window)}),t})();class vW{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function wW(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=$R(this.window.history)||$R(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $R(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class m_ extends class KW extends class z6{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function G6(t){ih||(ih=t)}(new m_)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function QW(){return Yu=Yu||document.querySelector("base"),Yu?Yu.getAttribute("href"):null}();return null==n?null:function YW(t){mh=mh||document.createElement("a"),mh.setAttribute("href",t);const e=mh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Yu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function P9(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let mh,Yu=null;const qR=new j("TRANSITION_ID"),XW=[{provide:Qd,useFactory:function JW(t,e,n){return()=>{n.get(Yd).donePromise.then(()=>{const r=Si(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[qR,cn,Tn],multi:!0}];let e5=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();const yh=new j("EventManagerPlugins");let _h=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(B(yh),B($e))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();class WR{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Si().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let KR=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})(),Ju=(()=>{class t extends KR{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(QR),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(QR))}}return t.\u0275fac=function(n){return new(n||t)(B(cn))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();function QR(t){Si().remove(t)}const y_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},__=/%COMP%/g;function vh(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?vh(t,i,n):(i=i.replace(__,t),n.push(i))}return n}function XR(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let v_=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new w_(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case cr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new o5(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case cr.ShadowDom:return new a5(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=vh(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(B(_h),B(Ju),B(zu))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();class w_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(y_[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(e1(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(e1(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=y_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=y_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(un.DashCase|un.Important)?e.style.setProperty(n,r,i&un.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&un.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,XR(r)):this.eventManager.addEventListener(e,n,XR(r))}}function e1(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class o5 extends w_{constructor(e,n,r,i){super(e),this.component=r;const s=vh(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function r5(t){return"_ngcontent-%COMP%".replace(__,t)}(i+"-"+r.id),this.hostAttr=function i5(t){return"_nghost-%COMP%".replace(__,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class a5 extends w_{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=vh(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let u5=(()=>{class t extends WR{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(B(cn))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();const t1=["alt","control","meta","shift"],c5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},l5={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let d5=(()=>{class t extends WR{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Si().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),t1.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=c5[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),t1.forEach(o=>{o!==i&&(0,l5[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(B(cn))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();const r1=[{provide:Jd,useValue:"browser"},{provide:zM,useValue:function h5(){m_.makeCurrent()},multi:!0},{provide:cn,useFactory:function p5(){return function RH(t){pm=t}(document),document},deps:[]}],g5=tR($6,"browser",r1),i1=new j(""),s1=[{provide:Xd,useClass:class ZW{addToWindow(e){Ee.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ee.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ee.getAllAngularRootElements=()=>e.getAllRootElements(),Ee.frameworkStabilizers||(Ee.frameworkStabilizers=[]),Ee.frameworkStabilizers.push(r=>{const i=Ee.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Si().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:JM,useClass:jy,deps:[$e,Hy,Xd]},{provide:jy,useClass:jy,deps:[$e,Hy,Xd]}],o1=[{provide:Tm,useValue:"root"},{provide:Ro,useFactory:function f5(){return new Ro},deps:[]},{provide:yh,useClass:u5,multi:!0,deps:[cn,$e,Jd]},{provide:yh,useClass:d5,multi:!0,deps:[cn]},{provide:v_,useClass:v_,deps:[_h,Ju,zu]},{provide:AA,useExisting:v_},{provide:KR,useExisting:Ju},{provide:Ju,useClass:Ju,deps:[cn]},{provide:_h,useClass:_h,deps:[yh,$e]},{provide:class IW{},useClass:e5,deps:[]},[]];let m5=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:zu,useValue:n.appId},{provide:qR,useExisting:zu},XW]}}}return t.\u0275fac=function(n){return new(n||t)(B(i1,12))},t.\u0275mod=Vr({type:t}),t.\u0275inj=ur({providers:[...o1,...s1],imports:[pW,j6]}),t})(),a1=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(B(cn))},t.\u0275prov=ee({token:t,factory:function(n){let r=null;return r=n?new n:function _5(){return new a1(B(cn))}(),r},providedIn:"root"}),t})();function $(...t){return ot(t,nu(t))}typeof window<"u"&&window;class er extends or{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const wh=eu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:b5}=Array,{getPrototypeOf:S5,prototype:A5,keys:x5}=Object;const{isArray:R5}=Array;function l1(...t){const e=nu(t),n=function t$(t){return Ie(cg(t))?t.pop():void 0}(t),{args:r,keys:i}=function k5(t){if(1===t.length){const e=t[0];if(b5(e))return{args:e,keys:null};if(function M5(t){return t&&"object"==typeof t&&S5(t)===A5}(e)){const n=x5(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return ot([],e);const s=new Fe(function L5(t,e,n=is){return r=>{d1(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)d1(e,()=>{const c=ot(t[u],e);let l=!1;c.subscribe(pt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function O5(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):is));return n?s.pipe(function P5(t){return ae(e=>function N5(t,e){return R5(e)?t(...e):t(e)}(t,e))}(n)):s}function d1(t,e,n){t?Pr(n,t,e):e()}function D_(...t){return function F5(){return lo(1)}()(ot(t,nu(t)))}function h1(t){return new Fe(e=>{ar(t()).subscribe(e)})}function Xu(t,e){const n=Ie(t)?t:()=>t,r=i=>i.error(n());return new Fe(e?i=>e.schedule(r,0,i):r)}function T_(){return ft((t,e)=>{let n=null;t._refCount++;const r=pt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class f1 extends Fe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,mb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new gn;const n=this.getSubject();e.add(this.source.subscribe(pt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=gn.EMPTY)}return e}refCount(){return T_()(this)}}function yr(t,e){return ft((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(pt(r,u=>{i?.unsubscribe();let c=0;const l=s++;ar(t(u,l)).subscribe(i=pt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Zu(t){return t<=0?()=>Or:ft((e,n)=>{let r=0;e.subscribe(pt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function xi(t,e){return ft((n,r)=>{let i=0;n.subscribe(pt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Ih(t){return ft((e,n)=>{let r=!1;e.subscribe(pt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function p1(t=U5){return ft((e,n)=>{let r=!1;e.subscribe(pt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function U5(){return new wh}function ki(t,e){const n=arguments.length>=2;return r=>r.pipe(t?xi((i,s)=>t(i,s,r)):is,Zu(1),n?Ih(e):p1(()=>new wh))}function ws(t,e){return Ie(e)?Dt(t,e,1):Dt(t,1)}function Tt(t,e,n){const r=Ie(t)||e||n?{next:t,error:e,complete:n}:t;return r?ft((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(pt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):is}function Mi(t){return ft((e,n)=>{let s,r=null,i=!1;r=e.subscribe(pt(n,void 0,void 0,o=>{s=ar(t(o,Mi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function B5(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(pt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function g1(t,e){return ft(B5(t,e,arguments.length>=2,!0))}function C_(t){return t<=0?()=>Or:ft((e,n)=>{let r=[];e.subscribe(pt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function m1(t,e){const n=arguments.length>=2;return r=>r.pipe(t?xi((i,s)=>t(i,s,r)):is,C_(1),n?Ih(e):p1(()=>new wh))}function b_(t){return ft((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const re="primary",ec=Symbol("RouteTitle");class H5{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Zo(t){return new H5(t)}function G5(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function _r(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!y1(t[i],e[i]))return!1;return!0}function y1(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function _1(t){return Array.prototype.concat.apply([],t)}function v1(t){return t.length>0?t[t.length-1]:null}function Ct(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ri(t){return Lx(t)?t:Ud(t)?ot(Promise.resolve(t)):$(t)}const W5={exact:function E1(t,e,n){if(!Es(t.segments,e.segments)||!Eh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!E1(t.children[r],e.children[r],n))return!1;return!0},subset:D1},w1={exact:function K5(t,e){return _r(t,e)},subset:function Q5(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>y1(t[n],e[n]))},ignored:()=>!0};function I1(t,e,n){return W5[n.paths](t.root,e.root,n.matrixParams)&&w1[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function D1(t,e,n){return T1(t,e,e.segments,n)}function T1(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Es(i,n)||e.hasChildren()||!Eh(i,n,r))}if(t.segments.length===n.length){if(!Es(t.segments,n)||!Eh(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!D1(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Es(t.segments,i)&&Eh(t.segments,i,r)&&t.children[re])&&T1(t.children[re],e,s,r)}}function Eh(t,e,n){return e.every((r,i)=>w1[n](t[i].parameters,r.parameters))}class Is{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zo(this.queryParams)),this._queryParamMap}toString(){return X5.serialize(this)}}class ie{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Ct(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dh(this)}}class tc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Zo(this.parameters)),this._parameterMap}toString(){return A1(this)}}function Es(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let C1=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:function(){return new A_},providedIn:"root"}),t})();class A_{parse(e){const n=new a7(e);return new Is(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${nc(e.root,!0)}`,r=function t7(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Th(n)}=${Th(i)}`).join("&"):`${Th(n)}=${Th(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function Z5(t){return encodeURI(t)}(e.fragment)}`:""}`}}const X5=new A_;function Dh(t){return t.segments.map(e=>A1(e)).join("/")}function nc(t,e){if(!t.hasChildren())return Dh(t);if(e){const n=t.children[re]?nc(t.children[re],!1):"",r=[];return Ct(t.children,(i,s)=>{s!==re&&r.push(`${s}:${nc(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function J5(t,e){let n=[];return Ct(t.children,(r,i)=>{i===re&&(n=n.concat(e(r,i)))}),Ct(t.children,(r,i)=>{i!==re&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===re?[nc(t.children[re],!1)]:[`${i}:${nc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[re]?`${Dh(t)}/${n[0]}`:`${Dh(t)}/(${n.join("//")})`}}function b1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Th(t){return b1(t).replace(/%3B/gi,";")}function x_(t){return b1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ch(t){return decodeURIComponent(t)}function S1(t){return Ch(t.replace(/\+/g,"%20"))}function A1(t){return`${x_(t.path)}${function e7(t){return Object.keys(t).map(e=>`;${x_(e)}=${x_(t[e])}`).join("")}(t.parameters)}`}const n7=/^[^\/()?;=#]+/;function bh(t){const e=t.match(n7);return e?e[0]:""}const r7=/^[^=?&#]+/,s7=/^[^&#]+/;class a7{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new ie(e,n)),r}parseSegment(){const e=bh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new N(4009,!1);return this.capture(e),new tc(Ch(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=bh(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=bh(this.remaining);i&&(r=i,this.capture(r))}e[Ch(n)]=Ch(r)}parseQueryParam(e){const n=function i7(t){const e=t.match(r7);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function o7(t){const e=t.match(s7);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=S1(n),s=S1(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=bh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new N(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[re]:new ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new N(4011,!1)}}function k_(t){return t.segments.length>0?new ie([],{[re]:t}):t}function Sh(t){const e={};for(const r of Object.keys(t.children)){const s=Sh(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function u7(t){if(1===t.numberOfChildren&&t.children[re]){const e=t.children[re];return new ie(t.segments.concat(e.segments),e.children)}return t}(new ie(t.segments,e))}function Ds(t){return t instanceof Is}function d7(t,e,n,r,i){if(0===n.length)return ea(e.root,e.root,e.root,r,i);const s=function M1(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new k1(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Ct(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new k1(n,e,r)}(n);return s.toRoot()?ea(e.root,e.root,new ie([],{}),r,i):function o(u){const c=function f7(t,e,n,r){if(t.isAbsolute)return new ta(e.root,!0,0);if(-1===r)return new ta(n,n===e.root,0);return function R1(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new N(4005,!1);i=r.segments.length}return new ta(r,!1,i-s)}(n,r+(rc(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,u),l=c.processChildren?sc(c.segmentGroup,c.index,s.commands):R_(c.segmentGroup,c.index,s.commands);return ea(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function rc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ic(t){return"object"==typeof t&&null!=t&&t.outlets}function ea(t,e,n,r,i){let o,s={};r&&Ct(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:x1(t,e,n);const a=k_(Sh(o));return new Is(a,s,i)}function x1(t,e,n){const r={};return Ct(t.children,(i,s)=>{r[s]=i===e?n:x1(i,e,n)}),new ie(t.segments,r)}class k1{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&rc(r[0]))throw new N(4003,!1);const i=r.find(ic);if(i&&i!==v1(r))throw new N(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ta{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function R_(t,e,n){if(t||(t=new ie([],{})),0===t.segments.length&&t.hasChildren())return sc(t,e,n);const r=function g7(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(ic(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!P1(u,c,o))return s;r+=2}else{if(!P1(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ie(t.segments.slice(0,r.pathIndex),{});return s.children[re]=new ie(t.segments.slice(r.pathIndex),t.children),sc(s,0,i)}return r.match&&0===i.length?new ie(t.segments,{}):r.match&&!t.hasChildren()?N_(t,e,n):r.match?sc(t,0,i):N_(t,e,n)}function sc(t,e,n){if(0===n.length)return new ie(t.segments,{});{const r=function p7(t){return ic(t[0])?t[0].outlets:{[re]:t}}(n),i={};return Ct(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=R_(t.children[o],e,s))}),Ct(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ie(t.segments,i)}}function N_(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(ic(s)){const u=m7(s.outlets);return new ie(r,u)}if(0===i&&rc(n[0])){r.push(new tc(t.segments[e].path,N1(n[0]))),i++;continue}const o=ic(s)?s.outlets[re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&rc(a)?(r.push(new tc(o,N1(a))),i+=2):(r.push(new tc(o,{})),i++)}return new ie(r,{})}function m7(t){const e={};return Ct(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=N_(new ie([],{}),0,n))}),e}function N1(t){const e={};return Ct(t,(n,r)=>e[r]=`${n}`),e}function P1(t,e,n){return t==n.path&&_r(e,n.parameters)}class Xr{constructor(e,n){this.id=e,this.url=n}}class P_ extends Xr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ts extends Xr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ah extends Xr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class O1 extends Xr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class y7 extends Xr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _7 extends Xr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class v7 extends Xr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class w7 extends Xr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class I7 extends Xr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E7{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class D7{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class T7{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class C7{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b7{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class S7{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L1{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class F1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=O_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=O_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=L_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return L_(e,this._root).map(n=>n.value)}}function O_(t,e){if(t===e.value)return e;for(const n of e.children){const r=O_(t,n);if(r)return r}return null}function L_(t,e){if(t===e.value)return[e];for(const n of e.children){const r=L_(t,n);if(r.length)return r.unshift(e),r}return[]}class Zr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function na(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class V1 extends F1{constructor(e,n){super(e),this.snapshot=n,F_(this,e)}toString(){return this.snapshot.toString()}}function U1(t,e){const n=function x7(t,e){const o=new xh([],{},{},"",{},re,e,null,t.root,-1,{});return new $1("",new Zr(o,[]))}(t,e),r=new er([new tc("",{})]),i=new er({}),s=new er({}),o=new er({}),a=new er(""),u=new Cs(r,i,o,a,s,re,e,n.root);return u.snapshot=n.root,new V1(new Zr(u,[]),n)}class Cs{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(ae(c=>c[ec]))??$(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ae(e=>Zo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ae(e=>Zo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function B1(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function k7(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class xh{constructor(e,n,r,i,s,o,a,u,c,l,d,h){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.[ec],this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._correctedLastPathIndex=h??l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $1 extends F1{constructor(e,n){super(n),this.url=e,F_(this,n)}toString(){return j1(this._root)}}function F_(t,e){e.value._routerState=t,e.children.forEach(n=>F_(t,n))}function j1(t){const e=t.children.length>0?` { ${t.children.map(j1).join(", ")} } `:"";return`${t.value}${e}`}function V_(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,_r(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),_r(e.params,n.params)||t.params.next(n.params),function z5(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!_r(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),_r(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function U_(t,e){const n=_r(t.params,e.params)&&function Y5(t,e){return Es(t,e)&&t.every((n,r)=>_r(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||U_(t.parent,e.parent))}function oc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function R7(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return oc(t,r,i);return oc(t,r)})}(t,e,n);return new Zr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>oc(t,a)),o}}const r=function N7(t){return new Cs(new er(t.url),new er(t.params),new er(t.queryParams),new er(t.fragment),new er(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>oc(t,s));return new Zr(r,i)}}const B_="ngNavigationCancelingError";function H1(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ds(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=G1(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function G1(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[B_]=!0,r.cancellationCode=e,n&&(r.url=n),r}function z1(t){return q1(t)&&Ds(t.url)}function q1(t){return t&&t[B_]}class P7{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ac,this.attachRef=null}}let ac=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new P7,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const kh=!1;let $_=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Xt,this.deactivateEvents=new Xt,this.attachEvents=new Xt,this.detachEvents=new Xt,this.name=i||re,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new N(4012,kh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new N(4012,kh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new N(4012,kh);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new N(4013,kh);this._activatedRoute=n;const i=this.location,o=n._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new O7(n,a,i.injector);if(r&&function L7(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(V(ac),V(Yn),function pu(t){return function mj(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(sS(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(at(),t)}("name"),V(Wy),V(Ei))},t.\u0275dir=Pt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),t})();class O7{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Cs?this.route:e===ac?this.childContexts:this.parent.get(e,n)}}let j_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=iu({type:t,selectors:[["ng-component"]],standalone:!0,features:[oM],decls:1,vars:0,template:function(n,r){1&n&&qo(0,"router-outlet")},dependencies:[$_],encapsulation:2}),t})();function W1(t,e){return t.providers&&!t._injector&&(t._injector=zd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function G_(t){const e=t.children&&t.children.map(G_),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=j_),n}function Un(t){return t.outlet||re}function K1(t,e){const n=t.filter(r=>Un(r)===e);return n.push(...t.filter(r=>Un(r)!==e)),n}function uc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class $7{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),V_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=na(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Ct(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=na(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=na(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=na(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new S7(s.value.snapshot))}),e.children.length&&this.forwardEvent(new C7(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(V_(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),V_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=uc(i.snapshot),u=a?.get(ku)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class Q1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Mh{constructor(e,n){this.component=e,this.route=n}}function j7(t,e,n){const r=t._root;return cc(r,e?e._root:null,n,[r.value])}function ra(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function y$(t){return null!==ql(t)}(t)?e.get(t):t:r}function cc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=na(e);return t.children.forEach(o=>{(function G7(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function z7(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Es(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Es(t.url,e.url)||!_r(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!U_(t,e)||!_r(t.queryParams,e.queryParams);default:return!U_(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Q1(r)):(s.data=o.data,s._resolvedData=o._resolvedData),cc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Mh(a.outlet.component,o))}else o&&lc(e,a,i),i.canActivateChecks.push(new Q1(r)),cc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Ct(s,(o,a)=>lc(o,n.getContext(a),i)),i}function lc(t,e,n){const r=na(t),i=t.value;Ct(r,(s,o)=>{lc(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Mh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function dc(t){return"function"==typeof t}function z_(t){return t instanceof wh||"EmptyError"===t?.name}const Rh=Symbol("INITIAL_VALUE");function ia(){return yr(t=>l1(t.map(e=>e.pipe(Zu(1),function V5(...t){const e=nu(t);return ft((n,r)=>{(e?D_(t,n,e):D_(t,n)).subscribe(r)})}(Rh)))).pipe(ae(e=>{for(const n of e)if(!0!==n){if(n===Rh)return Rh;if(!1===n||n instanceof Is)return n}return!0}),xi(e=>e!==Rh),Zu(1)))}function Y1(t){return function wB(...t){return fb(t)}(Tt(e=>{if(Ds(e))throw H1(0,e)}),ae(e=>!0===e))}const q_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function J1(t,e,n,r,i){const s=W_(t,e,n);return s.matched?function u8(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?$(i.map(o=>{const a=ra(o,t);return Ri(function J7(t){return t&&dc(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ia(),Y1()):$(!0)}(r=W1(e,r),e,n).pipe(ae(o=>!0===o?s:{...q_})):$(s)}function W_(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...q_}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||G5)(n,t,e);if(!i)return{...q_};const s={};Ct(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Nh(t,e,n,r,i="corrected"){if(n.length>0&&function d8(t,e,n){return n.some(r=>Ph(t,e,r)&&Un(r)!==re)}(t,n,r)){const o=new ie(e,function l8(t,e,n,r){const i={};i[re]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Un(s)!==re){const o=new ie([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[Un(s)]=o}return i}(t,e,r,new ie(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function h8(t,e,n){return n.some(r=>Ph(t,e,r))}(t,n,r)){const o=new ie(t.segments,function c8(t,e,n,r,i,s){const o={};for(const a of r)if(Ph(t,n,a)&&!i[Un(a)]){const u=new ie([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Un(a)]=u}return{...i,...o}}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new ie(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Ph(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function X1(t,e,n,r){return!!(Un(t)===r||r!==re&&Ph(e,n,t))&&("**"===t.path||W_(e,t,n).matched)}function Z1(t,e,n){return 0===e.length&&!t.children[n]}const Oh=!1;class Lh{constructor(e){this.segmentGroup=e||null}}class eN{constructor(e){this.urlTree=e}}function hc(t){return Xu(new Lh(t))}function tN(t){return Xu(new eN(t))}class m8{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Nh(this.urlTree.root,[],[],this.config).segmentGroup,n=new ie(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,re).pipe(ae(s=>this.createUrlTree(Sh(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Mi(s=>{if(s instanceof eN)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Lh?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,re).pipe(ae(i=>this.createUrlTree(Sh(i),e.queryParams,e.fragment))).pipe(Mi(i=>{throw i instanceof Lh?this.noMatchError(i):i}))}noMatchError(e){return new N(4002,Oh)}createUrlTree(e,n,r){const i=k_(e);return new Is(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(ae(s=>new ie([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ot(i).pipe(ws(s=>{const o=r.children[s],a=K1(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(ae(u=>({segment:u,outlet:s})))}),g1((s,o)=>(s[o.outlet]=o.segment,s),{}),m1())}expandSegment(e,n,r,i,s,o){return ot(r).pipe(ws(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Mi(c=>{if(c instanceof Lh)return $(null);throw c}))),ki(a=>!!a),Mi((a,u)=>{if(z_(a))return Z1(n,i,s)?$(new ie([],{})):hc(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return X1(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):hc(n):hc(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?tN(s):this.lineralizeSegments(r,s).pipe(Dt(o=>{const a=new ie(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=W_(n,i,s);if(!a)return hc(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?tN(d):this.lineralizeSegments(i,d).pipe(Dt(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=W1(r,e),r.loadChildren?(r._loadedRoutes?$({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ae(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ie(i,{})))):$(new ie(i,{}))):J1(n,r,i,e).pipe(yr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Dt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=Nh(n,a,u,h),g=new ie(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(ae(_=>new ie(a,_)));if(0===h.length&&0===p.length)return $(new ie(a,{}));const y=Un(r)===s;return this.expandSegment(d,g,h,p,y?re:s,!0).pipe(ae(E=>new ie(a.concat(E.segments),E.children)))})):hc(n)))}getChildConfig(e,n,r){return n.children?$({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?$({routes:n._loadedRoutes,injector:n._loadedInjector}):function a8(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?$(!0):$(i.map(o=>{const a=ra(o,t);return Ri(function W7(t){return t&&dc(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ia(),Y1())}(e,n,r).pipe(Dt(i=>i?this.configLoader.loadChildren(e,n).pipe(Tt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function p8(t){return Xu(G1(Oh,3))}())):$({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return $(r);if(i.numberOfChildren>1||!i.children[re])return Xu(new N(4e3,Oh));i=i.children[re]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Is(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Ct(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Ct(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new N(4001,Oh);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class _8{}class I8{constructor(e,n,r,i,s,o,a,u){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=u}recognize(){const e=Nh(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,re).pipe(ae(n=>{if(null===n)return null;const r=new xh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},re,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Zr(r,n),s=new $1(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=B1(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return ot(Object.keys(r.children)).pipe(ws(i=>{const s=r.children[i],o=K1(n,i);return this.processSegmentGroup(e,o,s,i)}),g1((i,s)=>i&&s?(i.push(...s),i):null),function $5(t,e=!1){return ft((n,r)=>{let i=0;n.subscribe(pt(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Ih(null),m1(),ae(i=>{if(null===i)return null;const s=nN(i);return function E8(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return ot(n).pipe(ws(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),ki(o=>!!o),Mi(o=>{if(z_(o))return Z1(r,i,s)?$([]):$(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!X1(n,r,i,s))return $(null);let o;if("**"===n.path){const a=i.length>0?v1(i).parameters:{},u=iN(r)+i.length;o=$({snapshot:new xh(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oN(n),Un(n),n.component??n._loadedComponent??null,n,rN(r),u,aN(n),u),consumedSegments:[],remainingSegments:[]})}else o=J1(r,n,i,e).pipe(ae(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=iN(r)+u.length;return{snapshot:new xh(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oN(n),Un(n),n.component??n._loadedComponent??null,n,rN(r),d,aN(n),d),consumedSegments:u,remainingSegments:c}}));return o.pipe(yr(a=>{if(null===a)return $(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function D8(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=Nh(r,c,l,h.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(ae(y=>null===y?null:[new Zr(u,y)]));if(0===h.length&&0===p.length)return $([new Zr(u,[])]);const g=Un(n)===s;return this.processSegment(d,h,f,p,g?re:s).pipe(ae(y=>null===y?null:[new Zr(u,y)]))}))}}function T8(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function nN(t){const e=[],n=new Set;for(const r of t){if(!T8(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=nN(r.children);e.push(new Zr(r.value,i))}return e.filter(r=>!n.has(r))}function rN(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function iN(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function oN(t){return t.data||{}}function aN(t){return t.resolve||{}}function uN(t){return"string"==typeof t.title||null===t.title}function K_(t){return yr(e=>{const n=t(e);return n?ot(n).pipe(ae(()=>e)):$(e)})}let cN=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===re);return r}getResolvedTitleForRoute(n){return n.data[ec]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:function(){return Ue(lN)},providedIn:"root"}),t})(),lN=(()=>{class t extends cN{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(B(a1))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class R8{}class P8 extends class N8{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const Vh=new j("",{providedIn:"root",factory:()=>({})}),Q_=new j("ROUTES");let Y_=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return $(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ri(n.loadComponent()).pipe(Tt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),b_(()=>{this.componentLoaders.delete(n)})),i=new f1(r,()=>new or).pipe(T_());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return $({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ae(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=_1(u.get(Q_,[],G.Self|G.Optional)));return{routes:c.map(G_),injector:u}}),b_(()=>{this.childrenLoaders.delete(r)})),o=new f1(s,()=>new or).pipe(T_());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Ri(n()).pipe(Dt(r=>r instanceof iM||Array.isArray(r)?$(r):ot(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)(B(Tn),B(Vy))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class L8{}class F8{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function V8(t){throw t}function U8(t,e,n){return e.parse("/")}const B8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function hN(){const t=Ue(C1),e=Ue(ac),n=Ue(e_),r=Ue(Tn),i=Ue(Vy),s=Ue(Q_,{optional:!0})??[],o=Ue(Vh,{optional:!0})??{},a=Ue(lN),u=Ue(cN,{optional:!0}),c=Ue(L8,{optional:!0}),l=Ue(R8,{optional:!0}),d=new bt(null,t,e,n,r,i,_1(s));return c&&(d.urlHandlingStrategy=c),l&&(d.routeReuseStrategy=l),d.titleStrategy=u??a,function j8(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,d),d}let bt=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new or,this.errorHandler=V8,this.malformedUriErrorHandler=U8,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>$(void 0),this.urlHandlingStrategy=new F8,this.routeReuseStrategy=new P8,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(Y_),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new D7(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new E7(h)),this.ngModule=o.get(ys),this.console=o.get(a6);const d=o.get($e);this.isNgZoneEnabled=d instanceof $e&&$e.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function q5(){return new Is(new ie([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=U1(this.currentUrlTree,this.rootComponentType),this.transitions=new er({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(xi(i=>0!==i.id),ae(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),yr(i=>{let s=!1,o=!1;return $(i).pipe(Tt(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),yr(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return fN(a.source)&&(this.browserUrlTree=a.extractedUrl),$(a).pipe(yr(d=>{const h=this.transitions.getValue();return r.next(new P_(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Or:Promise.resolve(d)}),function y8(t,e,n,r){return yr(i=>function g8(t,e,n,r,i){return new m8(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(ae(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Tt(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function b8(t,e,n,r,i,s){return Dt(o=>function w8(t,e,n,r,i,s,o="emptyOnly",a="legacy"){return new I8(t,e,n,r,i,o,a,s).recognize().pipe(yr(u=>null===u?function v8(t){return new Fe(e=>e.error(t))}(new _8):$(u)))}(t,e,n,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe(ae(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Tt(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new y7(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:y}=a,w=new P_(h,this.serializeUrl(f),p,g);r.next(w);const E=U1(f,this.rootComponentType).snapshot;return $(i={...a,targetSnapshot:E,urlAfterRedirects:f,extras:{...y,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),Or}),Tt(a=>{const u=new _7(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),ae(a=>i={...a,guards:j7(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function Z7(t,e){return Dt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?$({...n,guardsResult:!0}):function e8(t,e,n,r){return ot(t).pipe(Dt(i=>function o8(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?$(s.map(a=>{const u=uc(e)??i,c=ra(a,u);return Ri(function Y7(t){return t&&dc(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(ki())})).pipe(ia()):$(!0)}(i.component,i.route,n,e,r)),ki(i=>!0!==i,!0))}(o,r,i,t).pipe(Dt(a=>a&&function q7(t){return"boolean"==typeof t}(a)?function t8(t,e,n,r){return ot(e).pipe(ws(i=>D_(function r8(t,e){return null!==t&&e&&e(new T7(t)),$(!0)}(i.route.parent,r),function n8(t,e){return null!==t&&e&&e(new b7(t)),$(!0)}(i.route,r),function s8(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function H7(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>h1(()=>$(o.guards.map(u=>{const c=uc(o.node)??n,l=ra(u,c);return Ri(function Q7(t){return t&&dc(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(ki())})).pipe(ia())));return $(s).pipe(ia())}(t,i.path,n),function i8(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return $(!0);const i=r.map(s=>h1(()=>{const o=uc(e)??n,a=ra(s,o);return Ri(function K7(t){return t&&dc(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(ki())}));return $(i).pipe(ia())}(t,i.route,n))),ki(i=>!0!==i,!0))}(r,s,t,e):$(a)),ae(a=>({...n,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Tt(a=>{if(i.guardsResult=a.guardsResult,Ds(a.guardsResult))throw H1(0,a.guardsResult);const u=new v7(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),xi(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),K_(a=>{if(a.guards.canActivateChecks.length)return $(a).pipe(Tt(u=>{const c=new w7(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),yr(u=>{let c=!1;return $(u).pipe(function S8(t,e){return Dt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return $(n);let s=0;return ot(i).pipe(ws(o=>function A8(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!uN(i)&&(s[ec]=i.title),function x8(t,e,n,r){const i=function k8(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return $({});const s={};return ot(i).pipe(Dt(o=>function M8(t,e,n,r){const i=uc(e)??r,s=ra(t,i);return Ri(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(ki(),Tt(a=>{s[o]=a}))),C_(1),function j5(t){return ae(()=>t)}(s),Mi(o=>z_(o)?Or:Xu(o)))}(s,t,e,r).pipe(ae(o=>(t._resolvedData=o,t.data=B1(t,n).resolve,i&&uN(i)&&(t.data[ec]=i.title),null)))}(o.route,r,t,e)),Tt(()=>s++),C_(1),Dt(o=>s===i.length?$(n):Or))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Tt({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),Tt(u=>{const c=new I7(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),K_(a=>{const u=c=>{const l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(Tt(d=>{c.component=d}),ae(()=>{})));for(const d of c.children)l.push(...u(d));return l};return l1(u(a.targetSnapshot.root)).pipe(Ih(),Zu(1))}),K_(()=>this.afterPreactivation()),ae(a=>{const u=function M7(t,e,n){const r=oc(t,e._root,n?n._root:void 0);return new V1(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:u}}),Tt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>ae(r=>(new $7(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Tt({next(){s=!0},complete(){s=!0}}),b_(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Mi(a=>{if(o=!0,q1(a)){z1(a)||(this.navigated=!0,this.restoreHistory(i,!0));const u=new Ah(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(u),z1(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fN(i.source)};this.scheduleNavigation(c,"imperative",null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new O1(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Or}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next({...this.transitions.value,...n})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=n.state?.navigationId?n.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(n.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){this.config=n.map(G_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),d7(c,this.currentUrlTree,n,d,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ds(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function H8(t){for(let e=0;e<t.length;e++){if(null==t[e])throw new N(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...B8}:!1===r?{...$8}:r,Ds(n))return I1(this.currentUrlTree,n,i);const s=this.parseUrl(n);return I1(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Ts(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((h,f)=>{a=h,u=f});const l=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:l,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r,i){const s=new Ah(n.id,this.serializeUrl(n.extractedUrl),r,i);this.triggerEvent(s),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){Om()},t.\u0275prov=ee({token:t,factory:function(){return hN()},providedIn:"root"}),t})();function fN(t){return"imperative"!==t}class pN{}let q8=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(xi(n=>n instanceof Ts),ws(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=zd(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return ot(i).pipe(lo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):$(null);const s=i.pipe(Dt(o=>null===o?$(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?ot([s,this.loader.loadComponent(r)]).pipe(lo()):s})}}return t.\u0275fac=function(n){return new(n||t)(B(bt),B(Vy),B(Ei),B(pN),B(Y_))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Z_=new j("");let gN=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof P_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ts&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof L1&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new L1(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Om()},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();function sa(t,e){return{\u0275kind:t,\u0275providers:e}}function ev(t){return[{provide:Q_,multi:!0,useValue:t}]}function yN(){const t=Ue(Tn);return e=>{const n=t.get(Zd);if(e!==n.components[0])return;const r=t.get(bt),i=t.get(_N);1===t.get(tv)&&r.initialNavigation(),t.get(vN,null,G.Optional)?.setUpPreloading(),t.get(Z_,null,G.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const _N=new j("",{factory:()=>new or}),tv=new j("",{providedIn:"root",factory:()=>1});const vN=new j("");function Y8(t){return sa(0,[{provide:vN,useExisting:q8},{provide:pN,useExisting:t}])}const wN=new j("ROUTER_FORROOT_GUARD"),J8=[e_,{provide:C1,useClass:A_},{provide:bt,useFactory:hN},ac,{provide:Cs,useFactory:function mN(t){return t.routerState.root},deps:[bt]},Y_];function X8(){return new ZM("Router",bt)}let IN=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[J8,[],ev(n),{provide:wN,useFactory:nK,deps:[[bt,new Qt,new Iu]]},{provide:Vh,useValue:r||{}},r?.useHash?{provide:vs,useClass:Q6}:{provide:vs,useClass:TR},{provide:Z_,useFactory:()=>{const t=Ue(bt),e=Ue(_W),n=Ue(Vh);return n.scrollOffset&&e.setOffset(n.scrollOffset),new gN(t,e,n)}},r?.preloadingStrategy?Y8(r.preloadingStrategy).\u0275providers:[],{provide:ZM,multi:!0,useFactory:X8},r?.initialNavigation?rK(r):[],[{provide:EN,useFactory:yN},{provide:qM,multi:!0,useExisting:EN}]]}}static forChild(n){return{ngModule:t,providers:[ev(n)]}}}return t.\u0275fac=function(n){return new(n||t)(B(wN,8))},t.\u0275mod=Vr({type:t}),t.\u0275inj=ur({imports:[j_]}),t})();function nK(t){return"guarded"}function rK(t){return["disabled"===t.initialNavigation?sa(3,[{provide:Qd,multi:!0,useFactory:()=>{const e=Ue(bt);return()=>{e.setUpLocationChangeListener()}}},{provide:tv,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?sa(2,[{provide:tv,useValue:0},{provide:Qd,multi:!0,deps:[Tn],useFactory:e=>{const n=e.get(W6,Promise.resolve());let r=!1;return()=>n.then(()=>new Promise(s=>{const o=e.get(bt),a=e.get(_N);(function i(s){e.get(bt).events.pipe(xi(a=>a instanceof Ts||a instanceof Ah||a instanceof O1),ae(a=>a instanceof Ts||a instanceof Ah&&(0===a.code||1===a.code)&&null),xi(a=>null!==a),Zu(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),o.afterPreactivation=()=>(s(!0),r||a.closed?$(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const EN=new j("");function DN(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){DN(s,r,i,o,a,"next",u)}function a(u){DN(s,r,i,o,a,"throw",u)}o(void 0)})}}const TN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},rv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new uK;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jh=function(t){return function(t){const e=TN(t);return rv.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Hh=function(t){try{return rv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Gh=()=>{try{return function dK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Hh(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},bN=()=>{var t;return null===(t=Gh())||void 0===t?void 0:t.config};class zh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Sn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function iv(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function bs(){try{return"object"==typeof indexedDB}catch{return!1}}function fc(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function sv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vr.prototype.create)}}class vr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function DK(t,e){return t.replace(TK,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new tr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const TK=/\{\$([^}]+)}/g;function ov(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(AN(s)&&AN(o)){if(!ov(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function AN(t){return null!==t&&"object"==typeof t}function xN(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class bK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function SK(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=av),void 0===i.error&&(i.error=av),void 0===i.complete&&(i.complete=av);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function av(){}function cv(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function en(t){return t&&t._delegate?t._delegate:t}class Ut{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ss="[DEFAULT]";class NK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function OK(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ss})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ss){return this.instances.has(e)}getOptions(e=Ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ss?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Ss){return this.component?this.component.multipleInstances?e:Ss:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class LK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const lv=[];var ue=(()=>{return(t=ue||(ue={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",ue;var t})();const kN={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},FK=ue.INFO,VK={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},UK=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=VK[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class oa{constructor(e){this.name=e,this._logLevel=FK,this._logHandler=UK,this._userLogHandler=null,lv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?kN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}let MN,RN;const NN=new WeakMap,dv=new WeakMap,PN=new WeakMap,hv=new WeakMap,fv=new WeakMap;let pv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return dv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||PN.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ni(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function WK(t){return"function"==typeof t?function qK(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function jK(){return RN||(RN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(gv(this),e),Ni(NN.get(this))}:function(...e){return Ni(t.apply(gv(this),e))}:function(e,...n){const r=t.call(gv(this),e,...n);return PN.set(r,e.sort?e.sort():[e]),Ni(r)}}(t):(t instanceof IDBTransaction&&function GK(t){if(dv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});dv.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function $K(){return MN||(MN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,pv):t)}function Ni(t){if(t instanceof IDBRequest)return function HK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ni(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&NN.set(n,t)}).catch(()=>{}),fv.set(e,t),e}(t);if(hv.has(t))return hv.get(t);const e=WK(t);return e!==t&&(hv.set(t,e),fv.set(e,t)),e}const gv=t=>fv.get(t),QK=["get","getKey","getAll","getAllKeys","count"],YK=["put","add","delete","clear"],mv=new Map;function ON(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(mv.get(e))return mv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=YK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!QK.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return mv.set(e,s),s}!function zK(t){pv=t(pv)}(t=>({...t,get:(e,n,r)=>ON(e,n)||t.get(e,n,r),has:(e,n)=>!!ON(e,n)||t.has(e,n)}));class JK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function XK(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const yv="@firebase/app",As=new oa("@firebase/app"),Wh="[DEFAULT]",TQ={[yv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},xs=new Map,Kh=new Map;function CQ(t,e){try{t.container.addComponent(e)}catch(n){As.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function tn(t){const e=t.name;if(Kh.has(e))return As.debug(`There were multiple attempts to register component ${e}.`),!1;Kh.set(e,t);for(const n of xs.values())CQ(n,t);return!0}function Qh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const ei=new vr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class SQ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ut("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}}const pc="9.23.0";function FN(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Wh,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw ei.create("bad-app-name",{appName:String(i)});if(n||(n=bN()),!n)throw ei.create("no-options");const s=xs.get(i);if(s){if(ov(n,s.options)&&ov(r,s.config))return s;throw ei.create("duplicate-app",{appName:i})}const o=new LK(i);for(const u of Kh.values())o.addComponent(u);const a=new SQ(n,r,o);return xs.set(i,a),a}function VN(t=Wh){const e=xs.get(t);if(!e&&t===Wh&&bN())return FN();if(!e)throw ei.create("no-app",{appName:t});return e}function UN(){return Array.from(xs.values())}function Ke(t,e,n){var r;let i=null!==(r=TQ[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void As.warn(a.join(" "))}tn(new Ut(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const gc="firebase-heartbeat-store";let zN,qN,vv=null;function BN(){return vv||(vv=function KK(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ni(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ni(o.result),u.oldVersion,u.newVersion,Ni(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(gc)}}).catch(t=>{throw ei.create("idb-open",{originalErrorMessage:t.message})})),vv}function wv(){return(wv=m(function*(t){try{return yield(yield BN()).transaction(gc).objectStore(gc).get(jN(t))}catch(e){if(e instanceof tr)As.warn(e.message);else{const n=ei.create("idb-get",{originalErrorMessage:e?.message});As.warn(n.message)}}})).apply(this,arguments)}function $N(t,e){return Iv.apply(this,arguments)}function Iv(){return(Iv=m(function*(t,e){try{const r=(yield BN()).transaction(gc,"readwrite");yield r.objectStore(gc).put(e,jN(t)),yield r.done}catch(n){if(n instanceof tr)As.warn(n.message);else{const r=ei.create("idb-set",{originalErrorMessage:n?.message});As.warn(r.message)}}})).apply(this,arguments)}function jN(t){return`${t.name}!${t.options.appId}`}class NQ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OQ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=HN();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=HN(),{heartbeatsToSend:r,unsentEntries:i}=function PQ(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),GN(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),GN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=jh(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function HN(){return(new Date).toISOString().substring(0,10)}class OQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!bs()&&fc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function kQ(t){return wv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return $N(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return $N(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function GN(t){return jh(JSON.stringify({version:2,heartbeats:t})).length}!function LQ(t){tn(new Ut("platform-logger",e=>new JK(e),"PRIVATE")),tn(new Ut("heartbeat",e=>new NQ(e),"PRIVATE")),Ke(yv,"0.9.13",t),Ke(yv,"0.9.13","esm2017"),Ke("fire-js","")}(""),Ke("firebase","9.23.0","app");const WN=new WeakMap,Ev=new WeakMap,KN=new WeakMap,Dv=new WeakMap,Tv=new WeakMap;let Cv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Ev.get(t);if("objectStoreNames"===e)return t.objectStoreNames||KN.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function qQ(t){return"function"==typeof t?function zQ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $Q(){return qN||(qN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(bv(this),e),Pi(WN.get(this))}:function(...e){return Pi(t.apply(bv(this),e))}:function(e,...n){const r=t.call(bv(this),e,...n);return KN.set(r,e.sort?e.sort():[e]),Pi(r)}}(t):(t instanceof IDBTransaction&&function HQ(t){if(Ev.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ev.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function BQ(){return zN||(zN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Cv):t)}function Pi(t){if(t instanceof IDBRequest)return function jQ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Pi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&WN.set(n,t)}).catch(()=>{}),Tv.set(e,t),e}(t);if(Dv.has(t))return Dv.get(t);const e=qQ(t);return e!==t&&(Dv.set(t,e),Tv.set(e,t)),e}const bv=t=>Tv.get(t),KQ=["get","getKey","getAll","getAllKeys","count"],QQ=["put","add","delete","clear"],Sv=new Map;function QN(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Sv.get(e))return Sv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=QQ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!KQ.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Sv.set(e,s),s}!function GQ(t){Cv=t(Cv)}(t=>({...t,get:(e,n,r)=>QN(e,n)||t.get(e,n,r),has:(e,n)=>!!QN(e,n)||t.has(e,n)}));const YN="@firebase/installations",XN="w:0.6.4",ZN="FIS_v2",ti=new vr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function eP(t){return t instanceof tr&&t.code.includes("request-failed")}function xv({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function tP(t){return{token:t.token,requestStatus:2,expiresIn:tY(t.expiresIn),creationTime:Date.now()}}function kv(t,e){return Mv.apply(this,arguments)}function Mv(){return(Mv=m(function*(t,e){const r=(yield e.json()).error;return ti.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function nP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function rP(t,{refreshToken:e}){const n=nP(t);return n.append("Authorization",function nY(t){return`${ZN} ${t}`}(e)),n}function Rv(t){return Nv.apply(this,arguments)}function Nv(){return(Nv=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function tY(t){return Number(t.replace("s","000"))}function rY(t,e){return Pv.apply(this,arguments)}function Pv(){return(Pv=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=xv(t),i=nP(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:ZN,appId:t.appId,sdkVersion:XN})},u=yield Rv(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:tP(c.authToken)}}throw yield kv("Create Installation",u)})).apply(this,arguments)}function iP(t){return new Promise(e=>{setTimeout(e,t)})}const sY=/^[cdef][\w-]{21}$/;function oY(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function aY(t){return function iY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return sY.test(n)?n:""}catch{return""}}function aa(t){return`${t.appName}!${t.appId}`}const ua=new Map;function sP(t,e){const n=aa(t);oP(n,e),function lY(t,e){const n=function aP(){return!ks&&"BroadcastChannel"in self&&(ks=new BroadcastChannel("[Firebase] FID Change"),ks.onmessage=t=>{oP(t.data.key,t.data.fid)}),ks}();n&&n.postMessage({key:t,fid:e}),function uP(){0===ua.size&&ks&&(ks.close(),ks=null)}()}(n,e)}function oP(t,e){const n=ua.get(t);if(n)for(const r of n)r(e)}let ks=null;const Ms="firebase-installations-store";let Lv=null;function Fv(){return Lv||(Lv=function WQ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Pi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Pi(o.result),u.oldVersion,u.newVersion,Pi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ms)}})),Lv}function Yh(t,e){return Vv.apply(this,arguments)}function Vv(){return(Vv=m(function*(t,e){const n=aa(t),i=(yield Fv()).transaction(Ms,"readwrite"),s=i.objectStore(Ms),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&sP(t,e.fid),e})).apply(this,arguments)}function Uv(t){return Bv.apply(this,arguments)}function Bv(){return(Bv=m(function*(t){const e=aa(t),r=(yield Fv()).transaction(Ms,"readwrite");yield r.objectStore(Ms).delete(e),yield r.done})).apply(this,arguments)}function mc(t,e){return $v.apply(this,arguments)}function $v(){return($v=m(function*(t,e){const n=aa(t),i=(yield Fv()).transaction(Ms,"readwrite"),s=i.objectStore(Ms),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&sP(t,a.fid),a})).apply(this,arguments)}function jv(t){return Hv.apply(this,arguments)}function Hv(){return(Hv=m(function*(t){let e;const n=yield mc(t.appConfig,r=>{const i=fY(r),s=pY(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function fY(t){return lP(t||{fid:oY(),registrationStatus:0})}function pY(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ti.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function gY(t,e){return Gv.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:mY(t)}:{installationEntry:e}}function Gv(){return(Gv=m(function*(t,e){try{const n=yield rY(t,e);return Yh(t.appConfig,n)}catch(n){throw eP(n)&&409===n.customData.serverCode?yield Uv(t.appConfig):yield Yh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function mY(t){return zv.apply(this,arguments)}function zv(){return(zv=m(function*(t){let e=yield cP(t.appConfig);for(;1===e.registrationStatus;)yield iP(100),e=yield cP(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield jv(t);return r||n}return e})).apply(this,arguments)}function cP(t){return mc(t,e=>{if(!e)throw ti.create("installation-not-found");return lP(e)})}function lP(t){return function yY(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function _Y(t,e){return qv.apply(this,arguments)}function qv(){return(qv=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=vY(t,n),i=rP(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:XN,appId:t.appId}})},u=yield Rv(()=>fetch(r,a));if(u.ok)return tP(yield u.json());throw yield kv("Generate Auth Token",u)})).apply(this,arguments)}function vY(t,{fid:e}){return`${xv(t)}/${e}/authTokens:generate`}function Wv(t){return Kv.apply(this,arguments)}function Kv(){return(Kv=m(function*(t,e=!1){let n;const r=yield mc(t.appConfig,s=>{if(!hP(s))throw ti.create("not-registered");const o=s.authToken;if(!e&&EY(o))return s;if(1===o.requestStatus)return n=wY(t,e),s;{if(!navigator.onLine)throw ti.create("app-offline");const a=TY(s);return n=IY(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function wY(t,e){return Qv.apply(this,arguments)}function Qv(){return(Qv=m(function*(t,e){let n=yield dP(t.appConfig);for(;1===n.authToken.requestStatus;)yield iP(100),n=yield dP(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Wv(t,e):r})).apply(this,arguments)}function dP(t){return mc(t,e=>{if(!hP(e))throw ti.create("not-registered");return function CY(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function IY(t,e){return Yv.apply(this,arguments)}function Yv(){return(Yv=m(function*(t,e){try{const n=yield _Y(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Yh(t.appConfig,r),n}catch(n){if(!eP(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Yh(t.appConfig,r)}else yield Uv(t.appConfig);throw n}})).apply(this,arguments)}function hP(t){return void 0!==t&&2===t.registrationStatus}function EY(t){return 2===t.requestStatus&&!function DY(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function TY(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Jv(){return(Jv=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield jv(e);return r?r.catch(console.error):Wv(e).catch(console.error),n.fid})).apply(this,arguments)}function Xv(){return(Xv=m(function*(t,e=!1){const n=t;return yield AY(n),(yield Wv(n,e)).token})).apply(this,arguments)}function AY(t){return Zv.apply(this,arguments)}function Zv(){return(Zv=m(function*(t){const{registrationPromise:e}=yield jv(t);e&&(yield e)})).apply(this,arguments)}function nw(t){return ti.create("missing-app-config-values",{valueName:t})}const fP="installations",NY=t=>{const e=t.getProvider("app").getImmediate(),n=function MY(t){if(!t||!t.options)throw nw("App Configuration");if(!t.name)throw nw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw nw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Qh(e,"heartbeat"),_delete:()=>Promise.resolve()}},PY=t=>{const n=Qh(t.getProvider("app").getImmediate(),fP).getImmediate();return{getId:()=>function bY(t){return Jv.apply(this,arguments)}(n),getToken:i=>function SY(t){return Xv.apply(this,arguments)}(n,i)}};(function OY(){tn(new Ut(fP,NY,"PUBLIC")),tn(new Ut("installations-internal",PY,"PRIVATE"))})(),Ke(YN,"0.6.4"),Ke(YN,"0.6.4","esm2017");const rw="@firebase/remote-config",dn=new vr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class qY{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function WY(t=navigator){return t.languages&&t.languages[0]||t.language}class KY{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:WY()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((w,E)=>{e.signal.addEventListener(()=>{const _=new Error("The operation was aborted.");_.name="AbortError",E(_)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let E="fetch-client-network";throw"AbortError"===w?.name&&(E="fetch-timeout"),dn.create(E,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,y;if(200===h.status){let w;try{w=yield h.json()}catch(E){throw dn.create("fetch-client-parse",{originalErrorMessage:E?.message})}g=w.entries,y=w.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(g={}),304!==f&&200!==f)throw dn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class JY{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function QY(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function YY(t){if(!(t instanceof tr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+cv(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class eJ{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Xh(t,e){const n=t.target.error||void 0;return dn.create(e,{originalErrorMessage:n&&n?.message})}const Rs="app_namespace_store";class iJ{constructor(e,n,r,i=function rJ(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Xh(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Rs,{keyPath:"compositeKey"})}}catch(n){e(dn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Rs],"readonly").objectStore(Rs),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Xh(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(dn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Rs],"readwrite").objectStore(Rs),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Xh(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(dn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Rs],"readwrite").objectStore(Rs),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Xh(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(dn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class sJ{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function aJ(){return uw.apply(this,arguments)}function uw(){return(uw=m(function*(){if(!bs())return!1;try{return yield fc()}catch{return!1}})).apply(this,arguments)}let yP,_P;!function oJ(){tn(new Ut("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw dn.create("registration-window");if(!bs())throw dn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw dn.create("registration-project-id");if(!o)throw dn.create("registration-api-key");if(!a)throw dn.create("registration-app-id");const u=new iJ(a,r.name,n=n||"firebase"),c=new sJ(u),l=new oa(rw);l.logLevel=ue.ERROR;const d=new KY(i,pc,n,s,o,a),h=new JY(d,u),f=new qY(h,u,c,l),p=new eJ(r,f,c,u,l);return function HY(t){const e=en(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Ke(rw,"0.4.4"),Ke(rw,"0.4.4","esm2017")}();const vP=new WeakMap,cw=new WeakMap,wP=new WeakMap,lw=new WeakMap,dw=new WeakMap;let hw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return cw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||wP.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ni(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function gJ(t){return"function"==typeof t?function pJ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lJ(){return _P||(_P=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(fw(this),e),ni(vP.get(this))}:function(...e){return ni(t.apply(fw(this),e))}:function(e,...n){const r=t.call(fw(this),e,...n);return wP.set(r,e.sort?e.sort():[e]),ni(r)}}(t):(t instanceof IDBTransaction&&function hJ(t){if(cw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});cw.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function cJ(){return yP||(yP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,hw):t)}function ni(t){if(t instanceof IDBRequest)return function dJ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ni(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vP.set(n,t)}).catch(()=>{}),dw.set(e,t),e}(t);if(lw.has(t))return lw.get(t);const e=gJ(t);return e!==t&&(lw.set(t,e),dw.set(e,t)),e}const fw=t=>dw.get(t);function IP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ni(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ni(o.result),u.oldVersion,u.newVersion,ni(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function pw(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),ni(n).then(()=>{})}const mJ=["get","getKey","getAll","getAllKeys","count"],yJ=["put","add","delete","clear"],gw=new Map;function EP(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(gw.get(e))return gw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yJ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!mJ.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return gw.set(e,s),s}!function fJ(t){hw=t(hw)}(t=>({...t,get:(e,n,r)=>EP(e,n)||t.get(e,n,r),has:(e,n)=>!!EP(e,n)||t.has(e,n)}));const _J="/firebase-messaging-sw.js",vJ="/firebase-cloud-messaging-push-scope",DP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",TP="google.c.a.c_id",IJ="google.c.a.c_l",EJ="google.c.a.ts",DJ="google.c.a.e";var ca=(()=>{return(t=ca||(ca={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",ca;var t})();function ri(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function TJ(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const mw="fcm_token_details_db",CP="fcm_token_object_Store";function bJ(t){return yw.apply(this,arguments)}function yw(){return yw=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(mw))return null;let e=null;return(yield IP(mw,5,{upgrade:(r=m(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(CP))return;const c=a.objectStore(CP),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ri(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ri(d.auth),p256dh:ri(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ri(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ri(d.auth),p256dh:ri(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ri(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield pw(mw),yield pw("fcm_vapid_details_db"),yield pw("undefined"),SJ(e)?e:null;var r}),yw.apply(this,arguments)}function SJ(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ns="firebase-messaging-store";let _w=null;function vw(){return _w||(_w=IP("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ns)}})),_w}function bP(t){return ww.apply(this,arguments)}function ww(){return(ww=m(function*(t){const e=Tw(t),r=yield(yield vw()).transaction(Ns).objectStore(Ns).get(e);if(r)return r;{const i=yield bJ(t.appConfig.senderId);if(i)return yield Iw(t,i),i}})).apply(this,arguments)}function Iw(t,e){return Ew.apply(this,arguments)}function Ew(){return(Ew=m(function*(t,e){const n=Tw(t),i=(yield vw()).transaction(Ns,"readwrite");return yield i.objectStore(Ns).put(e,n),yield i.done,e})).apply(this,arguments)}function kJ(t){return Dw.apply(this,arguments)}function Dw(){return(Dw=m(function*(t){const e=Tw(t),r=(yield vw()).transaction(Ns,"readwrite");yield r.objectStore(Ns).delete(e),yield r.done})).apply(this,arguments)}function Tw({appConfig:t}){return t.appId}const St=new vr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function RJ(t,e){return Cw.apply(this,arguments)}function Cw(){return(Cw=m(function*(t,e){const n=yield xw(t),r=AP(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Aw(t.appConfig),i)).json()}catch(o){throw St.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw St.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw St.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function NJ(t,e){return bw.apply(this,arguments)}function bw(){return(bw=m(function*(t,e){const n=yield xw(t),r=AP(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Aw(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw St.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw St.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw St.create("token-update-no-token");return s.token})).apply(this,arguments)}function SP(t,e){return Sw.apply(this,arguments)}function Sw(){return(Sw=m(function*(t,e){const r={method:"DELETE",headers:yield xw(t)};try{const s=yield(yield fetch(`${Aw(t.appConfig)}/${e}`,r)).json();if(s.error)throw St.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw St.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Aw({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function xw(t){return kw.apply(this,arguments)}function kw(){return(kw=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function AP({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==DP&&(i.web.applicationPubKey=r),i}const PJ=6048e5;function OJ(t){return Mw.apply(this,arguments)}function Mw(){return(Mw=m(function*(t){const e=yield FJ(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ri(e.getKey("auth")),p256dh:ri(e.getKey("p256dh"))},r=yield bP(t.firebaseDependencies);if(r){if(VJ(r.subscriptionOptions,n))return Date.now()>=r.createTime+PJ?LJ(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield SP(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return kP(t.firebaseDependencies,n)}return kP(t.firebaseDependencies,n)})).apply(this,arguments)}function xP(t){return Rw.apply(this,arguments)}function Rw(){return(Rw=m(function*(t){const e=yield bP(t.firebaseDependencies);e&&(yield SP(t.firebaseDependencies,e.token),yield kJ(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function LJ(t,e){return Nw.apply(this,arguments)}function Nw(){return(Nw=m(function*(t,e){try{const n=yield NJ(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Iw(t.firebaseDependencies,r),n}catch(n){throw yield xP(t),n}})).apply(this,arguments)}function kP(t,e){return Pw.apply(this,arguments)}function Pw(){return(Pw=m(function*(t,e){const r={token:yield RJ(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Iw(t,r),r.token})).apply(this,arguments)}function FJ(t,e){return Ow.apply(this,arguments)}function Ow(){return(Ow=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:TJ(e)})})).apply(this,arguments)}function VJ(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function MP(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function UJ(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function BJ(t,e){!e.data||(t.data=e.data)}(e,t),function $J(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function jJ(t){return"object"==typeof t&&!!t&&TP in t}function RP(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Lw(t){return St.create("missing-app-config-values",{valueName:t})}RP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),RP("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class GJ{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function HJ(t){if(!t||!t.options)throw Lw("App Configuration Object");if(!t.name)throw Lw("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Lw(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function NP(t){return Fw.apply(this,arguments)}function Fw(){return(Fw=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(_J,{scope:vJ}),t.swRegistration.update().catch(()=>{})}catch(e){throw St.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function zJ(t,e){return Vw.apply(this,arguments)}function Vw(){return(Vw=m(function*(t,e){if(!e&&!t.swRegistration&&(yield NP(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw St.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function qJ(t,e){return Uw.apply(this,arguments)}function Uw(){return(Uw=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=DP)})).apply(this,arguments)}function Bw(){return(Bw=m(function*(t,e){if(!navigator)throw St.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw St.create("permission-blocked");return yield qJ(t,e?.vapidKey),yield zJ(t,e?.serviceWorkerRegistration),OJ(t)})).apply(this,arguments)}function WJ(t,e,n){return $w.apply(this,arguments)}function $w(){return($w=m(function*(t,e,n){const r=KJ(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[TP],message_name:n[IJ],message_time:n[EJ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function KJ(t){switch(t){case ca.NOTIFICATION_CLICKED:return"notification_open";case ca.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function jw(){return(jw=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ca.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(MP(n)):t.onMessageHandler.next(MP(n)));const r=n.data;jJ(r)&&"1"===r[DJ]&&(yield WJ(t,n.messageType,r))})).apply(this,arguments)}const OP="@firebase/messaging",YJ=t=>{const e=new GJ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function QJ(t,e){return jw.apply(this,arguments)}(e,n)),e},JJ=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function PP(t,e){return Bw.apply(this,arguments)}(e,r)}};function FP(){return Hw.apply(this,arguments)}function Hw(){return(Hw=m(function*(){try{yield fc()}catch{return!1}return typeof window<"u"&&bs()&&sv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function XJ(){tn(new Ut("messaging",YJ,"PUBLIC")),tn(new Ut("messaging-internal",JJ,"PRIVATE")),Ke(OP,"0.12.4"),Ke(OP,"0.12.4","esm2017")}();const Zh="analytics",tX="firebase_id",iX="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qw="https://www.googletagmanager.com/gtag/js",mt=new oa("@firebase/analytics"),nn=new vr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function oX(t){if(!t.startsWith(qw)){const e=nn.create("invalid-gtag-resource",{gtagURL:t});return mt.warn(e.message),""}return t}function VP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function uX(t,e){const n=function aX(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:oX}),r=document.createElement("script"),i=`${qw}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function lX(t,e,n,r,i,s){return Ww.apply(this,arguments)}function Ww(){return(Ww=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield VP(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){mt.error(a)}t("config",i,s)})).apply(this,arguments)}function dX(t,e,n,r,i){return Kw.apply(this,arguments)}function Kw(){return(Kw=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield VP(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){mt.error(s)}})).apply(this,arguments)}function pX(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(qw)&&n.src.includes(t))return n;return null}const UP=new class yX{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function _X(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function vX(t){return Qw.apply(this,arguments)}function Qw(){return(Qw=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:_X(r)},s=iX.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw nn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function wX(t){return Yw.apply(this,arguments)}function Yw(){return(Yw=m(function*(t,e=UP,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw nn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw nn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new DX;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:6e4),BP({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function BP(t,e,n){return Jw.apply(this,arguments)}function Jw(){return(Jw=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=UP){var s;const{appId:o,measurementId:a}=t;try{yield IX(r,e)}catch(u){if(a)return mt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield vX(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!EX(c)){if(i.deleteThrottleMetadata(o),a)return mt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?cv(n,i.intervalMillis,30):cv(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),mt.debug(`Calling attemptFetch again in ${l} millis`),BP(t,d,r,i)}})).apply(this,arguments)}function IX(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function EX(t){if(!(t instanceof tr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class DX{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Xw,sI;function Zw(){return(Zw=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function $P(t){sI=t}function jP(t){Xw=t}function kX(){return oI.apply(this,arguments)}function oI(){return(oI=m(function*(){if(!bs())return mt.warn(nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield fc()}catch(t){return mt.warn(nn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function aI(){return(aI=m(function*(t,e,n,r,i,s,o){var a;const u=wX(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&mt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>mt.error(f)),e.push(u);const c=kX().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);pX(s)||uX(s,l.measurementId),sI&&(i("consent","default",sI),$P(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[tX]=d),i("config",l.measurementId,h),Xw&&(i("set",Xw),jP(void 0)),l.measurementId})).apply(this,arguments)}class RX{constructor(e){this.app=e}_delete(){return delete wr[this.app.options.appId],Promise.resolve()}}let wr={},HP=[];const GP={};let qP,Ir,ef="dataLayer",uI=!1;function PX(t,e,n){!function NX(){const t=[];if(iv()&&t.push("This is a browser extension environment."),sv()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=nn.create("invalid-analytics-context",{errorInfo:e});mt.warn(n.message)}}();const r=t.options.appId;if(!r)throw nn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw nn.create("no-api-key");mt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=wr[r])throw nn.create("already-exists",{id:r});if(!uI){!function cX(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(ef);const{wrappedGtag:s,gtagCore:o}=function fX(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function hX(t,e,n,r){function s(){return(s=m(function*(o,...a){try{if("event"===o){const[u,c]=a;yield dX(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield lX(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){mt.error(u)}})).apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(wr,HP,GP,ef,"gtag");Ir=s,qP=o,uI=!0}return wr[r]=function MX(t,e,n,r,i,s,o){return aI.apply(this,arguments)}(t,HP,GP,e,qP,ef,n),new RX(t)}function LX(){return cI.apply(this,arguments)}function cI(){return(cI=m(function*(){if(iv()||!sv()||!bs())return!1;try{return yield fc()}catch{return!1}})).apply(this,arguments)}const WP="@firebase/analytics";!function VX(){tn(new Ut(Zh,(e,{options:n})=>PX(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),tn(new Ut("analytics-internal",function t(e){try{const n=e.getProvider(Zh).getImmediate();return{logEvent:(r,i,s)=>function FX(t,e,n,r){t=en(t),function TX(t,e,n,r,i){return Zw.apply(this,arguments)}(Ir,wr[t.app.options.appId],e,n,r).catch(i=>mt.error(i))}(n,r,i,s)}}catch(n){throw nn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Ke(WP,"0.10.0"),Ke(WP,"0.10.0","esm2017")}();class UX extends gn{constructor(e,n){super()}schedule(e,n=0){return this}}const tf={setInterval(t,e,...n){const{delegate:r}=tf;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=tf;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class QP extends UX{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return tf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&tf.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,co(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const YP={now:()=>(YP.delegate||Date).now(),delegate:void 0};class yc{constructor(e,n=yc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}yc.now=YP.now;class JP extends yc{constructor(e,n=yc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const jX=new class $X extends JP{}(class BX extends QP{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),HX=new JP(QP),dI=new Mu("7.6.1"),hI="__angularfire_symbol__analyticsIsSupportedValue",fI="__angularfire_symbol__analyticsIsSupported",pI="__angularfire_symbol__remoteConfigIsSupportedValue",gI="__angularfire_symbol__remoteConfigIsSupported",mI="__angularfire_symbol__messagingIsSupportedValue",yI="__angularfire_symbol__messagingIsSupported";globalThis[fI]||(globalThis[fI]=LX().then(t=>globalThis[hI]=t).catch(()=>globalThis[hI]=!1)),globalThis[yI]||(globalThis[yI]=FP().then(t=>globalThis[mI]=t).catch(()=>globalThis[mI]=!1)),globalThis[gI]||(globalThis[gI]=aJ().then(t=>globalThis[pI]=t).catch(()=>globalThis[pI]=!1));const wI=(t,e)=>{const n=e?[e]:UN(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function la(){}class XP{constructor(e,n=jX){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class GX{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",la,{},la,la)),n.pipe(Tt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ZP=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new XP(Zone.current)),this.insideAngular=n.run(()=>new XP(Zone.current,HX)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(B($e))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ps(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function zX(t){return Ps().ngZone.runOutsideAngular(()=>t())}function Os(t){return Ps().ngZone.run(()=>t())}function qX(t){return Ps(),function WX(t){return function(n){return(n=n.lift(new GX(t.ngZone))).pipe(Hl(t.outsideAngular),jl(t.insideAngular))}}(Ps())(t)}const KX=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Os(()=>t.apply(void 0,r))},Er=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Os(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",la,{},la,la)))),r[s]=KX(r[s],n));const i=zX(()=>t.apply(this,r));if(!e){if(i instanceof Fe){const s=Ps();return i.pipe(Hl(s.outsideAngular),jl(s.insideAngular))}return Os(()=>i)}return i instanceof Fe?i.pipe(qX):i instanceof Promise?Os(()=>new Promise((s,o)=>i.then(a=>Os(()=>s(a)),a=>Os(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Os(()=>i)};class da{constructor(e){return e}}class eO{constructor(){return UN()}}const II=new j("angularfire2._apps"),YX={provide:da,useFactory:function QX(t){return t&&1===t.length?t[0]:new da(VN())},deps:[[new Qt,II]]},JX={provide:eO,deps:[[new Qt,II]]};function XX(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new da(r)}}let ZX=(()=>{class t{constructor(n){Ke("angularfire",dI.full,"core"),Ke("angularfire",dI.full,"app"),Ke("angular",xA.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(B(Jd))},t.\u0275mod=Vr({type:t}),t.\u0275inj=ur({providers:[YX,JX]}),t})();function eZ(t,...e){return{ngModule:ZX,providers:[{provide:II,useFactory:XX(t),multi:!0,deps:[$e,Tn,ZP,...e]}]}}const tZ=Er(FN,!0);const nZ=function tO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nO=new vr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nf=new oa("@firebase/auth");function rf(t,...e){nf.logLevel<=ue.ERROR&&nf.error(`Auth (${pc}): ${t}`,...e)}function hn(t,...e){throw EI(t,...e)}function Dr(t,...e){return EI(t,...e)}function rO(t,e,n){const r=Object.assign(Object.assign({},nZ()),{[e]:n});return new vr("auth","Firebase",r).create(e,{appName:t.name})}function EI(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nO.create(t,...e)}function b(t,e,...n){if(!t)throw EI(e,...n)}function Tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rf(e),new Error(e)}function Oi(t,e){t||Tr(e)}function iO(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class vc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Oi(n>e,"Short delay should be less than long delay!"),this.isMobile=function vK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}()||function IK(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function iZ(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function DI(){return"http:"===iO()||"https:"===iO()}()||iv()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class sO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},aZ=new vc(3e4,6e4);function Oe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function je(t,e,n,r){return CI.apply(this,arguments)}function CI(){return(CI=m(function*(t,e,n,r,i={}){return oO(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=xN(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),sO.fetch()(aO(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function oO(t,e,n){return bI.apply(this,arguments)}function bI(){return(bI=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},oZ),e);try{const i=new uZ(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw wc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw wc(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw wc(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw wc(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw rO(t,l,c);hn(t,l)}}catch(i){if(i instanceof tr)throw i;hn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function aO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function TI(t,e){Oi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class uZ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dr(this.auth,"network-request-failed")),aZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Dr(t,e,r);return i.customData._tokenResponse=n,i}function AI(){return(AI=m(function*(t,e){return je(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function dZ(t,e){return kI.apply(this,arguments)}function kI(){return(kI=m(function*(t,e){return je(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Ic(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function MI(){return(MI=m(function*(t,e=!1){const n=en(t),r=yield n.getIdToken(e),i=sf(r);b(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ic(RI(i.auth_time)),issuedAtTime:Ic(RI(i.iat)),expirationTime:Ic(RI(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function RI(t){return 1e3*Number(t)}function sf(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return rf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Hh(n);return i?JSON.parse(i):(rf("Failed to decode base64 JWT payload"),null)}catch(i){return rf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function si(t,e){return NI.apply(this,arguments)}function NI(){return(NI=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof tr&&pZ(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function pZ({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class gZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class uO{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ic(this.lastLoginAt),this.creationTime=Ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ec(t){return PI.apply(this,arguments)}function PI(){return(PI=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield si(t,dZ(n,{idToken:r}));b(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?_Z(s.providerUserInfo):[],a=yZ(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new uO(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function OI(){return(OI=m(function*(t){const e=en(t);yield Ec(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function yZ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _Z(t){return t.map(e=>{var{providerId:n}=e,r=og(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function LI(){return(LI=m(function*(t,e){const n=yield oO(t,{},m(function*(){const r=xN({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=aO(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",sO.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Dc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){b(e.idToken,"internal-error"),b(typeof e.idToken<"u","internal-error"),b(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function fZ(t){const e=sf(t);return b(e,"internal-error"),b(typeof e.exp<"u","internal-error"),b(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return b(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function vZ(t,e){return LI.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Dc;return r&&(b("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(b("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(b("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dc,this.toJSON())}_performRefresh(){return Tr("not implemented")}}function Li(t,e){b("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Ls{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=og(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new uO(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield si(n,n.stsTokenManager.getToken(n.auth,e));return b(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function hZ(t){return MI.apply(this,arguments)}(this,e)}reload(){return function mZ(t){return OI.apply(this,arguments)}(this)}_assign(e){this!==e&&(b(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ls(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){b(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Ec(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield si(e,function cZ(t,e){return AI.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,E=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:_,emailVerified:x,isAnonymous:F,providerData:U,stsTokenManager:ke}=n;b(_&&ke,e,"internal-error");const Mn=Dc.fromJSON(this.name,ke);b("string"==typeof _,e,"internal-error"),Li(d,e.name),Li(h,e.name),b("boolean"==typeof x,e,"internal-error"),b("boolean"==typeof F,e,"internal-error"),Li(f,e.name),Li(p,e.name),Li(g,e.name),Li(y,e.name),Li(w,e.name),Li(E,e.name);const Nr=new Ls({uid:_,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:F,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Mn,createdAt:w,lastLoginAt:E});return U&&Array.isArray(U)&&(Nr.providerData=U.map(Fl=>Object.assign({},Fl))),y&&(Nr._redirectEventId=y),Nr}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new Dc;i.updateFromServerResponse(n);const s=new Ls({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ec(s),s})()}}const cO=new Map;function oi(t){Oi(t instanceof Function,"Expected a class definition");let e=cO.get(t);return e?(Oi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cO.set(t,e),e)}const lO=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function af(t,e,n){return`firebase:${t}:${e}:${n}`}class fa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=af(this.userKey,i.apiKey,s),this.fullPersistenceKey=af("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ls._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new fa(oi(lO),e,r);const i=(yield Promise.all(n.map(function(){var c=m(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||oi(lO);const o=af(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Ls._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=m(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new fa(s,e,r)):new fa(s,e,r)})()}}function dO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function pO(t=Sn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function hO(t=Sn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function mO(t=Sn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function yO(t=Sn()){return/webos/i.test(t)}(e))return"Webos";if(function FI(t=Sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function fO(t=Sn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function gO(t=Sn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function _O(t,e=[]){let n;switch(t){case"Browser":n=dO(Sn());break;case"Worker":n=`${dO(Sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pc}/${r}`}function vO(t,e){return UI.apply(this,arguments)}function UI(){return(UI=m(function*(t,e){return je(t,"GET","/v2/recaptchaConfig",Oe(t,e))})).apply(this,arguments)}function IO(t){return void 0!==t&&void 0!==t.enterprise}class EO{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class TO{constructor(e){this.type="recaptcha-enterprise",this.auth=yt(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function s(){return s=m(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=m(function*(c,l){vO(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new EO(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;IO(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&IO(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function BI(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Dr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function DZ(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class SZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class AZ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CO(this),this.idTokenSubscription=new CO(this),this.beforeStateQueue=new SZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=oi(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield fa.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return b(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield Ec(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function sZ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?en(e):null;return r&&b(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&b(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(oi(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const n=yield vO(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new EO(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new TO(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&oi(e)||n._popupRedirectResolver;b(r,n,"argument-error"),n.redirectPersistenceManager=yield fa.create(n,[oi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return b(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return b(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_O(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function rZ(t,...e){nf.logLevel<=ue.WARN&&nf.warn(`Auth (${pc}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function yt(t){return en(t)}class CO{constructor(e){this.auth=e,this.observer=null,this.addObserver=function CK(t,e){const n=new bK(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return b(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function DO(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new vc(3e4,6e4),new vc(2e3,1e4),new vc(3e4,6e4),new vc(5e3,15e3),encodeURIComponent("fac");var eL="@firebase/auth";class wte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){b(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Gh(),function Ete(t){tn(new Ut("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;b(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_O(t)},c=new AZ(r,i,s,u);return function kZ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(oi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),tn(new Ut("auth-internal",e=>{const n=yt(e.getProvider("auth").getImmediate());return new wte(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ke(eL,"0.23.2",function Ite(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Ke(eL,"0.23.2","esm2017")}("Browser");class iL{constructor(){return wI("auth")}}const AD=new Map,sL={activated:!1,tokenObservers:[]},xte={initialized:!1,enabled:!1};function He(t){return AD.get(t)||Object.assign({},sL)}function wf(){return xte}class Ote{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new zh,yield function Lte(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new zh,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const At=new vr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function kD(t){if(!He(t).activated)throw At.create("use-before-activation",{appName:t.name})}function Df(t,e){return RD.apply(this,arguments)}function RD(){return RD=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw At.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw At.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw At.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw At.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),RD.apply(this,arguments)}function aL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Ac="firebase-app-check-store";let Tf=null;function cL(){return Tf||(Tf=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(At.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ac,{keyPath:"compositeKey"})}}catch(n){e(At.create("storage-open",{originalErrorMessage:n?.message}))}}),Tf)}function ND(){return ND=m(function*(t,e){const r=(yield cL()).transaction(Ac,"readwrite"),s=r.objectStore(Ac).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(At.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),ND.apply(this,arguments)}const xc=new oa("@firebase/app-check");function LD(t,e){return bs()?function Hte(t,e){return function lL(t,e){return ND.apply(this,arguments)}(function hL(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{xc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function VD(){return wf().enabled}function UD(){return BD.apply(this,arguments)}function BD(){return BD=m(function*(){const t=wf();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),BD.apply(this,arguments)}const Qte={error:"UNKNOWN_ERROR"};function Yte(t){return rv.encodeString(JSON.stringify(t),!1)}function Cf(t){return $D.apply(this,arguments)}function $D(){return $D=m(function*(t,e=!1){const n=t.app;kD(n);const r=He(n);let s,i=r.token;if(i&&!ga(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(ga(u)?i=u:yield LD(n,void 0))}if(!e&&i&&ga(i))return{token:i.token};let a,o=!1;if(VD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Df(aL(n,yield UD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield LD(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield He(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?xc.warn(u.message):xc.error(u),s=u}return i?s?a=ga(i)?{token:i.token,internalError:s}:mL(s):(a={token:i.token},r.token=i,yield LD(n,i)):a=mL(s),o&&gL(n,a),a}),$D.apply(this,arguments)}function jD(){return jD=m(function*(t){const e=t.app;kD(e);const{provider:n}=He(e);if(VD()){const r=yield UD(),{token:i}=yield Df(aL(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),jD.apply(this,arguments)}function GD(t,e){const n=He(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function pL(t){const{app:e}=t,n=He(e);let r=n.tokenRefresher;r||(r=function Jte(t){const{app:e}=t;return new Ote(m(function*(){let r;if(r=He(e).token?yield Cf(t,!0):yield Cf(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=He(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function gL(t,e){const n=He(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function ga(t){return t.expireTimeMillis-Date.now()>0}function mL(t){return{token:Yte(Qte),error:t}}class Xte{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=He(this.app);for(const n of e)GD(this.app,n.next);return Promise.resolve()}}const TL="app-check-internal";!function hne(){tn(new Ut("app-check",t=>function Zte(t,e){return new Xte(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(TL).initialize()})),tn(new Ut(TL,t=>function ene(t){return{getToken:e=>Cf(t,e),getLimitedUseToken:()=>function fL(t){return jD.apply(this,arguments)}(t),addTokenListener:e=>function HD(t,e,n,r){const{app:i}=t,s=He(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&ga(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),pL(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>pL(t))}(t,"INTERNAL",e),removeTokenListener:e=>GD(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ke("@firebase/app-check","0.8.0")}();class bL{constructor(){return wI("app-check")}}typeof window<"u"&&window;var k,yne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nr={},QD=QD||{},Q=yne||self;function Sf(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function kc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var YD="closure_uid_"+(1e9*Math.random()>>>0),vne=0;function wne(t,e,n){return t.call.apply(t.bind,arguments)}function Ine(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Bt(t,e,n){return(Bt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wne:Ine).apply(null,arguments)}function Af(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function _t(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Vi(){this.s=this.s,this.o=this.o}Vi.prototype.s=!1,Vi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function _ne(t){Object.prototype.hasOwnProperty.call(t,YD)&&t[YD]||(t[YD]=++vne)}(this)},Vi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const SL=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function JD(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function AL(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Sf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function $t(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}$t.prototype.h=function(){this.defaultPrevented=!0};var Dne=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Q.addEventListener("test",()=>{},e),Q.removeEventListener("test",()=>{},e)}catch{}return t}();function Mc(t){return/^[\s\xa0]*$/.test(t)}function xf(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function Cr(t){return-1!=xf().indexOf(t)}function XD(t){return XD[" "](t),t}XD[" "]=function(){};var eT,Cne=Cr("Opera"),ma=Cr("Trident")||Cr("MSIE"),xL=Cr("Edge"),ZD=xL||ma,kL=Cr("Gecko")&&!(-1!=xf().toLowerCase().indexOf("webkit")&&!Cr("Edge"))&&!(Cr("Trident")||Cr("MSIE"))&&!Cr("Edge"),bne=-1!=xf().toLowerCase().indexOf("webkit")&&!Cr("Edge");function ML(){var t=Q.document;return t?t.documentMode:void 0}e:{var tT="",nT=function(){var t=xf();return kL?/rv:([^\);]+)(\)|;)/.exec(t):xL?/Edge\/([\d\.]+)/.exec(t):ma?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):bne?/WebKit\/(\S+)/.exec(t):Cne?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(nT&&(tT=nT?nT[1]:""),ma){var rT=ML();if(null!=rT&&rT>parseFloat(tT)){eT=String(rT);break e}}eT=tT}var Sne=Q.document&&ma&&(ML()||parseInt(eT,10))||void 0;function Rc(t,e){if($t.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(kL){e:{try{XD(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ane[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Rc.$.h.call(this)}}_t(Rc,$t);var Ane={2:"touch",3:"pen",4:"mouse"};Rc.prototype.h=function(){Rc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Nc="closure_listenable_"+(1e6*Math.random()|0),xne=0;function kne(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++xne,this.fa=this.ia=!1}function kf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function sT(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function NL(t){const e={};for(const n in t)e[n]=t[n];return e}const PL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function OL(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<PL.length;s++)n=PL[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Mf(t){this.src=t,this.g={},this.h=0}function oT(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=SL(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(kf(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function aT(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Mf.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=aT(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new kne(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var uT="closure_lm_"+(1e6*Math.random()|0),cT={};function LL(t,e,n,r,i){if(r&&r.once)return VL(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)LL(t,e[s],n,r,i);return null}return n=fT(n),t&&t[Nc]?t.O(e,n,kc(r)?!!r.capture:!!r,i):FL(t,e,n,!1,r,i)}function FL(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=kc(i)?!!i.capture:!!i,a=dT(t);if(a||(t[uT]=a=new Mf(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Rne(){const e=Nne;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Dne||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(BL(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function VL(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)VL(t,e[s],n,r,i);return null}return n=fT(n),t&&t[Nc]?t.P(e,n,kc(r)?!!r.capture:!!r,i):FL(t,e,n,!0,r,i)}function UL(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)UL(t,e[s],n,r,i);else r=kc(r)?!!r.capture:!!r,n=fT(n),t&&t[Nc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=aT(s=t.g[e],n,r,i))&&(kf(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=dT(t))&&(e=t.g[e.toString()],t=-1,e&&(t=aT(e,n,r,i)),(n=-1<t?e[t]:null)&&lT(n))}function lT(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Nc])oT(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(BL(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=dT(e))?(oT(n,t),0==n.h&&(n.src=null,e[uT]=null)):kf(t)}}}function BL(t){return t in cT?cT[t]:cT[t]="on"+t}function Nne(t,e){if(t.fa)t=!0;else{e=new Rc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&lT(t),t=n.call(r,e)}return t}function dT(t){return(t=t[uT])instanceof Mf?t:null}var hT="__closure_events_fn_"+(1e9*Math.random()>>>0);function fT(t){return"function"==typeof t?t:(t[hT]||(t[hT]=function(e){return t.handleEvent(e)}),t[hT])}function vt(){Vi.call(this),this.i=new Mf(this),this.S=this,this.J=null}function xt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new $t(e,t);else if(e instanceof $t)e.target=e.target||t;else{var i=e;OL(e=new $t(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Rf(o,r,!0,e)&&i}if(i=Rf(o=e.g=t,r,!0,e)&&i,i=Rf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Rf(o=e.g=n[s],r,!1,e)&&i}function Rf(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&oT(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}_t(vt,Vi),vt.prototype[Nc]=!0,vt.prototype.removeEventListener=function(t,e,n,r){UL(this,t,e,n,r)},vt.prototype.N=function(){if(vt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)kf(n[r]);delete t.g[e],t.h--}}this.J=null},vt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},vt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var pT=Q.JSON.stringify;function One(){var t=gT;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var $L=new class Pne{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Fne,t=>t.reset());class Fne{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Vne(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Une(t){Q.setTimeout(()=>{throw t},0)}let Pc,Oc=!1,gT=new class Lne{constructor(){this.h=this.g=null}add(e,n){const r=$L.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},jL=()=>{const t=Q.Promise.resolve(void 0);Pc=()=>{t.then(Bne)}};var Bne=()=>{for(var t;t=One();){try{t.h.call(t.g)}catch(n){Une(n)}var e=$L;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Oc=!1};function Nf(t,e){vt.call(this),this.h=t||1,this.g=e||Q,this.j=Bt(this.qb,this),this.l=Date.now()}function mT(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function yT(t,e,n){if("function"==typeof t)n&&(t=Bt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Bt(t.handleEvent,t)}return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function HL(t){t.g=yT(()=>{t.g=null,t.i&&(t.i=!1,HL(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}_t(Nf,vt),(k=Nf.prototype).ga=!1,k.T=null,k.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),xt(this,"tick"),this.ga&&(mT(this),this.start()))}},k.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},k.N=function(){Nf.$.N.call(this),mT(this),delete this.g};class $ne extends Vi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:HL(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lc(t){Vi.call(this),this.h=t,this.g={}}_t(Lc,Vi);var GL=[];function zL(t,e,n,r){Array.isArray(n)||(n&&(GL[0]=n.toString()),n=GL);for(var i=0;i<n.length;i++){var s=LL(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function qL(t){sT(t.g,function(e,n){this.g.hasOwnProperty(n)&&lT(e)},t),t.g={}}function Pf(){this.g=!0}function ya(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function zne(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return pT(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Lc.prototype.N=function(){Lc.$.N.call(this),qL(this)},Lc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pf.prototype.Ea=function(){this.g=!1},Pf.prototype.info=function(){};var Bs={},WL=null;function Of(){return WL=WL||new vt}function KL(t){$t.call(this,Bs.Ta,t)}function Fc(t){const e=Of();xt(e,new KL(e))}function QL(t,e){$t.call(this,Bs.STAT_EVENT,t),this.stat=e}function rn(t){const e=Of();xt(e,new QL(e,t))}function YL(t,e){$t.call(this,Bs.Ua,t),this.size=e}function Vc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}Bs.Ta="serverreachability",_t(KL,$t),Bs.STAT_EVENT="statevent",_t(QL,$t),Bs.Ua="timingevent",_t(YL,$t);var Lf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},JL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function _T(){}function ZL(){}_T.prototype.h=null;var IT,Uc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function vT(){$t.call(this,"d")}function wT(){$t.call(this,"c")}function Ff(){}function Bc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Lc(this),this.P=qne,this.V=new Nf(t=ZD?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new eF}function eF(){this.i=null,this.g="",this.h=!1}_t(vT,$t),_t(wT,$t),_t(Ff,_T),Ff.prototype.g=function(){return new XMLHttpRequest},Ff.prototype.i=function(){return{}},IT=new Ff;var qne=45e3,ET={},Vf={};function DT(t,e,n){t.L=1,t.v=jf(ui(e)),t.s=n,t.S=!0,tF(t,null)}function tF(t,e){t.G=Date.now(),$c(t),t.A=ui(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),dF(n.i,"t",r),t.C=0,n=t.l.J,t.h=new eF,t.g=OF(t.l,n?e:null,!t.s),0<t.O&&(t.M=new $ne(Bt(t.Pa,t,t.g),t.O)),zL(t.U,t.g,"readystatechange",t.nb),e=t.I?NL(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Fc(),function jne(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function nF(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function rF(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Wne(t,n),i==Vf){4==e&&(t.o=4,rn(14),r=!1),ya(t.j,t.m,null,"[Incomplete Response]");break}if(i==ET){t.o=4,rn(15),ya(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ya(t.j,t.m,i,null),TT(t,i)}nF(t)&&i!=Vf&&i!=ET&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,rn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),MT(e),e.M=!0,rn(11))):(ya(t.j,t.m,n,"[Invalid Chunked Response]"),$s(t),jc(t))}function Wne(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Vf:(n=Number(e.substring(n,r)),isNaN(n)?ET:(r+=1)+n>e.length?Vf:(e=e.slice(r,r+n),t.C=r+n,e))}function $c(t){t.Y=Date.now()+t.P,iF(t,t.P)}function iF(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Vc(Bt(t.lb,t),e)}function Uf(t){t.B&&(Q.clearTimeout(t.B),t.B=null)}function jc(t){0==t.l.H||t.J||MF(t.l,t)}function $s(t){Uf(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,mT(t.V),qL(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function TT(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||CT(n.i,t)))if(!t.K&&CT(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Kf(n),qf(n)}kT(n),rn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Vc(Bt(n.ib,n),6e3));if(1>=pF(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Hs(n,11)}else if((t.K||n.g==t)&&Kf(n),!Mc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(bT(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,be(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=PF(r,r.J?r.pa:null,r.Y),o.K){gF(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Uf(a),$c(a)),r.g=o}else xF(r);0<n.j.length&&Wf(n)}else"stop"!=c[0]&&"close"!=c[0]||Hs(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Hs(n,7):xT(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Fc()}catch{}}function sF(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Sf(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Qne(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Sf(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Kne(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Sf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(k=Bc.prototype).setTimeout=function(t){this.P=t},k.nb=function(t){t=t.target;const e=this.M;e&&3==br(t)?e.l():this.Pa(t)},k.Pa=function(t){try{if(t==this.g)e:{const l=br(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||ZD||this.g&&(this.h.h||this.g.ja()||DF(this.g)))){this.J||4!=l||7==e||Fc(),Uf(this);var n=this.g.da();this.ca=n;t:if(nF(this)){var r=DF(this.g);t="";var i=r.length,s=4==br(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){$s(this),jc(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Hne(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mc(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,rn(12),$s(this),jc(this);break e}ya(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,TT(this,n)}this.S?(rF(this,l,o),ZD&&this.i&&3==l&&(zL(this.U,this.V,"tick",this.mb),this.V.start())):(ya(this.j,this.m,o,null),TT(this,o)),4==l&&$s(this),this.i&&!this.J&&(4==l?MF(this.l,this):(this.i=!1,$c(this)))}else(function fre(t){const e={};t=(t.g&&2<=br(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Mc(t[r]))continue;var n=Vne(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Mne(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,rn(12)):(this.o=0,rn(13)),$s(this),jc(this)}}}catch{}},k.mb=function(){if(this.g){var t=br(this.g),e=this.g.ja();this.C<e.length&&(Uf(this),rF(this,t,e),this.i&&4!=t&&$c(this))}},k.cancel=function(){this.J=!0,$s(this)},k.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Gne(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Fc(),rn(17)),$s(this),this.o=2,jc(this)):iF(this,this.Y-t)};var oF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function js(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof js){this.h=t.h,Bf(this,t.j),this.s=t.s,this.g=t.g,$f(this,t.m),this.l=t.l;var e=t.i,n=new zc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),aF(this,n),this.o=t.o}else t&&(e=String(t).match(oF))?(this.h=!1,Bf(this,e[1]||"",!0),this.s=Hc(e[2]||""),this.g=Hc(e[3]||"",!0),$f(this,e[4]),this.l=Hc(e[5]||"",!0),aF(this,e[6]||"",!0),this.o=Hc(e[7]||"")):(this.h=!1,this.i=new zc(null,this.h))}function ui(t){return new js(t)}function Bf(t,e,n){t.j=n?Hc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function $f(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function aF(t,e,n){e instanceof zc?(t.i=e,function nre(t,e){e&&!t.j&&(Ui(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(cF(this,r),dF(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Gc(e,ere)),t.i=new zc(e,t.h))}function be(t,e,n){t.i.set(e,n)}function jf(t){return be(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Hc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Gc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Jne),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Jne(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}js.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Gc(e,uF,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Gc(e,uF,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Gc(n,"/"==n.charAt(0)?Zne:Xne,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Gc(n,tre)),t.join("")};var uF=/[#\/\?@]/g,Xne=/[#\?:]/g,Zne=/[#\?]/g,ere=/[#\?@]/g,tre=/#/g;function zc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ui(t){t.g||(t.g=new Map,t.h=0,t.i&&function Yne(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function cF(t,e){Ui(t),e=_a(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function lF(t,e){return Ui(t),e=_a(t,e),t.g.has(e)}function dF(t,e,n){cF(t,e),0<n.length&&(t.i=null,t.g.set(_a(t,e),JD(n)),t.h+=n.length)}function _a(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function hF(t){this.l=t||ire,t=Q.PerformanceNavigationTiming?0<(t=Q.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(k=zc.prototype).add=function(t,e){Ui(this),this.i=null,t=_a(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},k.forEach=function(t,e){Ui(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},k.ta=function(){Ui(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},k.Z=function(t){Ui(this);let e=[];if("string"==typeof t)lF(this,t)&&(e=e.concat(this.g.get(_a(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},k.set=function(t,e){return Ui(this),this.i=null,lF(this,t=_a(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},k.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},k.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var ire=10;function fF(t){return!!t.h||!!t.g&&t.g.size>=t.j}function pF(t){return t.h?1:t.g?t.g.size:0}function CT(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function bT(t,e){t.g?t.g.add(e):t.h=e}function gF(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function mF(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return JD(t.i)}function ore(){this.g=new class{stringify(t){return Q.JSON.stringify(t,void 0)}parse(t){return Q.JSON.parse(t,void 0)}}}function are(t,e,n){const r=n||"";try{sF(t,function(i,s){let o=i;kc(i)&&(o=pT(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Hf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function qc(t){this.l=t.fc||null,this.j=t.ob||!1}function Gf(t,e){vt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=ST,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hF.prototype.cancel=function(){if(this.i=mF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},_t(qc,_T),qc.prototype.g=function(){return new Gf(this.l,this.j)},qc.prototype.i=function(t){return function(){return t}}({}),_t(Gf,vt);var ST=0;function yF(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Wc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Kc(t)}function Kc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(k=Gf.prototype).open=function(t,e){if(this.readyState!=ST)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Kc(this)},k.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wc(this)),this.readyState=ST},k.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Kc(this)),this.g&&(this.readyState=3,Kc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yF(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},k.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Wc(this):Kc(this),3==this.readyState&&yF(this)}},k.Za=function(t){this.g&&(this.response=this.responseText=t,Wc(this))},k.Ya=function(t){this.g&&(this.response=t,Wc(this))},k.ka=function(){this.g&&Wc(this)},k.setRequestHeader=function(t,e){this.v.append(t,e)},k.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},k.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Gf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var cre=Q.JSON.parse;function Ge(t){vt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=_F,this.L=this.M=!1}_t(Ge,vt);var _F="",lre=/^https?$/i,dre=["POST","PUT"];function vF(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,wF(t),zf(t)}function wF(t){t.F||(t.F=!0,xt(t,"complete"),xt(t,"error"))}function IF(t){if(t.h&&typeof QD<"u"&&(!t.C[1]||4!=br(t)||2!=t.da()))if(t.v&&4==br(t))yT(t.La,0,t);else if(xt(t,"readystatechange"),4==br(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(oF)[1]||null;!i&&Q.self&&Q.self.location&&(i=Q.self.location.protocol.slice(0,-1)),r=!lre.test(i?i.toLowerCase():"")}n=r}if(n)xt(t,"complete"),xt(t,"success");else{t.m=6;try{var s=2<br(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",wF(t)}}finally{zf(t)}}}function zf(t,e){if(t.g){EF(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||xt(t,"ready");try{n.onreadystatechange=r}catch{}}}function EF(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}function br(t){return t.g?t.g.readyState:0}function DF(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case _F:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function TF(t){let e="";return sT(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function AT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=TF(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):be(t,e,n))}function Qc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function CF(t){this.Ga=0,this.j=[],this.l=new Pf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Qc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Qc("baseRetryDelayMs",5e3,t),this.hb=Qc("retryDelaySeedMs",1e4,t),this.eb=Qc("forwardChannelMaxRetries",2,t),this.xa=Qc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new hF(t&&t.concurrentRequestLimit),this.Ja=new ore,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function xT(t){if(bF(t),3==t.H){var e=t.W++,n=ui(t.I);if(be(n,"SID",t.K),be(n,"RID",e),be(n,"TYPE","terminate"),Yc(t,n),(e=new Bc(t,t.l,e)).L=2,e.v=jf(ui(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Q.Image&&((new Image).src=e.v,n=!0),n||(e.g=OF(e.l,null),e.g.ha(e.v)),e.G=Date.now(),$c(e)}NF(t)}function qf(t){t.g&&(MT(t),t.g.cancel(),t.g=null)}function bF(t){qf(t),t.u&&(Q.clearTimeout(t.u),t.u=null),Kf(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Q.clearTimeout(t.m),t.m=null)}function Wf(t){if(!fF(t.i)&&!t.m){t.m=!0;var e=t.Na;Pc||jL(),Oc||(Pc(),Oc=!0),gT.add(e,t),t.C=0}}function SF(t,e){var n;n=e?e.m:t.W++;const r=ui(t.I);be(r,"SID",t.K),be(r,"RID",n),be(r,"AID",t.V),Yc(t,r),t.o&&t.s&&AT(r,t.o,t.s),n=new Bc(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=AF(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),bT(t.i,n),DT(n,r,e)}function Yc(t,e){t.na&&sT(t.na,function(n,r){be(e,r,n)}),t.h&&sF({},function(n,r){be(e,r,n)})}function AF(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Bt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{are(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function xF(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Pc||jL(),Oc||(Pc(),Oc=!0),gT.add(e,t),t.A=0}}function kT(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Vc(Bt(t.Ma,t),RF(t,t.A)),t.A++,0))}function MT(t){null!=t.B&&(Q.clearTimeout(t.B),t.B=null)}function kF(t){t.g=new Bc(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ui(t.wa);be(e,"RID","rpc"),be(e,"SID",t.K),be(e,"AID",t.V),be(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&be(e,"TO",t.qa),be(e,"TYPE","xmlhttp"),Yc(t,e),t.o&&t.s&&AT(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=jf(ui(e)),n.s=null,n.S=!0,tF(n,t)}function Kf(t){null!=t.v&&(Q.clearTimeout(t.v),t.v=null)}function MF(t,e){var n=null;if(t.g==e){Kf(t),MT(t),t.g=null;var r=2}else{if(!CT(t.i,e))return;n=e.F,gF(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;xt(r=Of(),new YL(r,n)),Wf(t)}else xF(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function pre(t,e){return!(pF(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Vc(Bt(t.Na,t,e),RF(t,t.C)),t.C++,0)))}(t,e)||2==r&&kT(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Hs(t,5);break;case 4:Hs(t,10);break;case 3:Hs(t,6);break;default:Hs(t,2)}}function RF(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Hs(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Bt(t.pb,t);n||(n=new js("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||Bf(n,"https"),jf(n)),function ure(t,e){const n=new Pf;if(Q.Image){const r=new Image;r.onload=Af(Hf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Af(Hf,n,r,"TestLoadImage: error",!1,e),r.onabort=Af(Hf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Af(Hf,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else rn(2);t.H=0,t.h&&t.h.za(e),NF(t),bF(t)}function NF(t){if(t.H=0,t.ma=[],t.h){const e=mF(t.i);(0!=e.length||0!=t.j.length)&&(AL(t.ma,e),AL(t.ma,t.j),t.i.i.length=0,JD(t.j),t.j.length=0),t.h.ya()}}function PF(t,e,n){var r=n instanceof js?ui(n):new js(n);if(""!=r.g)e&&(r.g=e+"."+r.g),$f(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new js(null);r&&Bf(s,r),e&&(s.g=e),i&&$f(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&be(r,n,e),be(r,"VER",t.ra),Yc(t,r),r}function OF(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ge(n&&t.Ha&&!t.va?new qc({ob:!0}):t.va)).Oa(t.J),e}function LF(){}function Qf(){if(ma&&!(10<=Number(Sne)))throw Error("Environmental error: no available transport.")}function An(t,e){vt.call(this),this.g=new CF(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Mc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Mc(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new va(this)}function FF(t){vT.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function VF(){wT.call(this),this.status=1}function va(t){this.g=t}function rr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function RT(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function ye(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(k=Ge.prototype).Oa=function(t){this.M=t},k.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():IT.g(),this.C=function XL(t){return t.h||(t.h=t.i())}(this.u?this.u:IT),this.g.onreadystatechange=Bt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void vF(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Q.FormData&&t instanceof Q.FormData,!(0<=SL(dre,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{EF(this),0<this.B&&((this.L=function hre(t){return ma&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bt(this.ua,this)):this.A=yT(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){vF(this,s)}},k.ua=function(){typeof QD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xt(this,"timeout"),this.abort(8))},k.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,xt(this,"complete"),xt(this,"abort"),zf(this))},k.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zf(this,!0)),Ge.$.N.call(this)},k.La=function(){this.s||(this.G||this.v||this.l?IF(this):this.kb())},k.kb=function(){IF(this)},k.isActive=function(){return!!this.g},k.da=function(){try{return 2<br(this)?this.g.status:-1}catch{return-1}},k.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},k.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),cre(e)}},k.Ia=function(){return this.m},k.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(k=CF.prototype).ra=8,k.H=1,k.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Bc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=NL(s),OL(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=AF(this,i,e),be(n=ui(this.I),"RID",t),be(n,"CVER",22),this.F&&be(n,"X-HTTP-Session-Id",this.F),Yc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(TF(s)))+"&"+e:this.o&&AT(n,this.o,s)),bT(this.i,i),this.bb&&be(n,"TYPE","init"),this.P?(be(n,"$req",e),be(n,"SID","null"),i.aa=!0,DT(i,n,null)):DT(i,n,e),this.H=2}}else 3==this.H&&(t?SF(this,t):0==this.j.length||fF(this.i)||SF(this))},k.Ma=function(){if(this.u=null,kF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Vc(Bt(this.jb,this),t)}},k.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,rn(10),qf(this),kF(this))},k.ib=function(){null!=this.v&&(this.v=null,qf(this),kT(this),rn(19))},k.pb=function(t){t?(this.l.info("Successfully pinged google.com"),rn(2)):(this.l.info("Failed to ping google.com"),rn(1))},k.isActive=function(){return!!this.h&&this.h.isActive(this)},(k=LF.prototype).Ba=function(){},k.Aa=function(){},k.za=function(){},k.ya=function(){},k.isActive=function(){return!0},k.Va=function(){},Qf.prototype.g=function(t,e){return new An(t,e)},_t(An,vt),An.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;rn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=PF(t,null,t.Y),Wf(t)},An.prototype.close=function(){xT(this.g)},An.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=pT(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Wf(e)},An.prototype.N=function(){this.g.h=null,delete this.j,xT(this.g),delete this.g,An.$.N.call(this)},_t(FF,vT),_t(VF,wT),_t(va,LF),va.prototype.Ba=function(){xt(this.g,"a")},va.prototype.Aa=function(t){xt(this.g,new FF(t))},va.prototype.za=function(t){xt(this.g,new VF)},va.prototype.ya=function(){xt(this.g,"b")},_t(rr,function gre(){this.blockSize=-1}),rr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},rr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)RT(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){RT(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){RT(this,r),i=0;break}}this.h=i,this.i+=e},rr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var mre={};function NT(t){return-128<=t&&128>t?function Tne(t,e){var n=mre;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new ye([0|e],0>e?-1:0)}):new ye([0|t],0>t?-1:0)}function Sr(t){if(isNaN(t)||!isFinite(t))return wa;if(0>t)return kt(Sr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=PT;return new ye(e,0)}var PT=4294967296,wa=NT(0),OT=NT(1),BF=NT(16777216);function ci(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function $n(t){return-1==t.h}function kt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ye(n,~t.h).add(OT)}function Yf(t,e){return t.add(kt(e))}function Jf(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Jc(t,e){this.g=t,this.h=e}function Xf(t,e){if(ci(e))throw Error("division by zero");if(ci(t))return new Jc(wa,wa);if($n(t))return e=Xf(kt(t),e),new Jc(kt(e.g),kt(e.h));if($n(e))return e=Xf(t,kt(e)),new Jc(kt(e.g),e.h);if(30<t.g.length){if($n(t)||$n(e))throw Error("slowDivide_ only works with positive integers.");for(var n=OT,r=e;0>=r.X(t);)n=$F(n),r=$F(r);var i=Ia(n,1),s=Ia(r,1);for(r=Ia(r,2),n=Ia(n,2);!ci(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ia(r,1),n=Ia(n,1)}return e=Yf(t,i.R(e)),new Jc(i,e)}for(i=wa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Sr(n)).R(e);$n(o)||0<o.X(t);)o=(s=Sr(n-=r)).R(e);ci(s)&&(s=OT),i=i.add(s),t=Yf(t,o)}return new Jc(i,t)}function $F(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ye(n,t.h)}function Ia(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ye(i,t.h)}(k=ye.prototype).ea=function(){if($n(this))return-kt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:PT+r)*e,e*=PT}return t},k.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ci(this))return"0";if($n(this))return"-"+kt(this).toString(t);for(var e=Sr(Math.pow(t,6)),n=this,r="";;){var i=Xf(n,e).g,s=((0<(n=Yf(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ci(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},k.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},k.X=function(t){return $n(t=Yf(this,t))?-1:ci(t)?0:1},k.abs=function(){return $n(this)?kt(this):this},k.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new ye(n,-2147483648&n[n.length-1]?-1:0)},k.R=function(t){if(ci(this)||ci(t))return wa;if($n(this))return $n(t)?kt(this).R(kt(t)):kt(kt(this).R(t));if($n(t))return kt(this.R(kt(t)));if(0>this.X(BF)&&0>t.X(BF))return Sr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Jf(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Jf(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Jf(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Jf(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ye(n,0)},k.gb=function(t){return Xf(this,t).h},k.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ye(n,this.h&t.h)},k.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ye(n,this.h|t.h)},k.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ye(n,this.h^t.h)},Qf.prototype.createWebChannel=Qf.prototype.g,An.prototype.send=An.prototype.u,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,Lf.NO_ERROR=0,Lf.TIMEOUT=8,Lf.HTTP_ERROR=6,JL.COMPLETE="complete",ZL.EventType=Uc,Uc.OPEN="a",Uc.CLOSE="b",Uc.ERROR="c",Uc.MESSAGE="d",vt.prototype.listen=vt.prototype.O,Ge.prototype.listenOnce=Ge.prototype.P,Ge.prototype.getLastError=Ge.prototype.Sa,Ge.prototype.getLastErrorCode=Ge.prototype.Ia,Ge.prototype.getStatus=Ge.prototype.da,Ge.prototype.getResponseJson=Ge.prototype.Wa,Ge.prototype.getResponseText=Ge.prototype.ja,Ge.prototype.send=Ge.prototype.ha,Ge.prototype.setWithCredentials=Ge.prototype.Oa,rr.prototype.digest=rr.prototype.l,rr.prototype.reset=rr.prototype.reset,rr.prototype.update=rr.prototype.j,ye.prototype.add=ye.prototype.add,ye.prototype.multiply=ye.prototype.R,ye.prototype.modulo=ye.prototype.gb,ye.prototype.compare=ye.prototype.X,ye.prototype.toNumber=ye.prototype.ea,ye.prototype.toString=ye.prototype.toString,ye.prototype.getBits=ye.prototype.D,ye.fromNumber=Sr,ye.fromString=function UF(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return kt(UF(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Sr(Math.pow(e,8)),r=wa,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Sr(Math.pow(e,s)),r=r.R(s).add(Sr(o))):r=(r=r.R(n)).add(Sr(o))}return r};var yre=nr.createWebChannelTransport=function(){return new Qf},_re=nr.getStatEventTarget=function(){return Of()},LT=nr.ErrorCode=Lf,vre=nr.EventType=JL,wre=nr.Event=Bs,jF=nr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ire=nr.FetchXmlHttpFactory=qc,Zf=nr.WebChannel=ZL,Ere=nr.XhrIo=Ge,Dre=nr.Md5=rr,Ea=nr.Integer=ye;const HF="@firebase/firestore";class wt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");let Da="9.23.0";const Bi=new oa("@firebase/firestore");function FT(){return Bi.logLevel}function C(t,...e){if(Bi.logLevel<=ue.DEBUG){const n=e.map(VT);Bi.debug(`Firestore (${Da}): ${t}`,...n)}}function Qe(t,...e){if(Bi.logLevel<=ue.ERROR){const n=e.map(VT);Bi.error(`Firestore (${Da}): ${t}`,...n)}}function ir(t,...e){if(Bi.logLevel<=ue.WARN){const n=e.map(VT);Bi.warn(`Firestore (${Da}): ${t}`,...n)}}function VT(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function P(t="Unexpected state"){const e=`FIRESTORE (${Da}) INTERNAL ASSERTION FAILED: `+t;throw Qe(e),new Error(e)}function O(t,e){t||P()}function A(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class GF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Tre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wt.UNAUTHENTICATED))}shutdown(){}}class Cre{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bre{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new dt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new dt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new dt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(O("string"==typeof r.accessToken),new GF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return O(null===e||"string"==typeof e),new wt(e)}}class Sre{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Are{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Sre(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xre{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,C("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(O("string"==typeof n.token),this.T=n.token,new zF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function kre(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class qF{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=kre(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function W(t,e){return t<e?-1:t>e?1:0}function Ta(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Le{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Le.fromMillis(Date.now())}static fromDate(e){return Le.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Le(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?W(this.nanoseconds,e.nanoseconds):W(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class L{constructor(e){this.timestamp=e}static fromTimestamp(e){return new L(e)}static min(){return new L(new Le(0,0))}static max(){return new L(new Le(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xc{constructor(e,n,r){void 0===n?n=0:n>e.length&&P(),void 0===r?r=e.length-n:r>e.length-n&&P(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Xc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class de extends Xc{construct(e,n,r){return new de(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new de(n)}static emptyPath(){return new de([])}}const Mre=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Xc{construct(e,n,r){return new Ye(e,n,r)}static isValidIdentifier(e){return Mre.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ye(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new T(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new T(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ye(n)}static emptyPath(){return new Ye([])}}class S{constructor(e){this.path=e}static fromPath(e){return new S(de.fromString(e))}static fromName(e){return new S(de.fromString(e).popFirst(5))}static empty(){return new S(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===de.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return de.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new S(new de(e.slice()))}}function QF(t){return new xn(t.readTime,t.key,-1)}class xn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xn(L.min(),S.empty(),-1)}static max(){return new xn(L.max(),S.empty(),-1)}}function BT(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=S.comparator(t.documentKey,e.documentKey),0!==n?n:W(t.largestBatchId,e.largestBatchId))}const YF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function $i(t){return $T.apply(this,arguments)}function $T(){return $T=m(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==YF)throw t;C("LocalStore","Unexpectedly lost primary lease")}),$T.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&P(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function ji(t){return"IndexedDbTransactionError"===t.name}let kn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function tl(t){return null==t}function nl(t){return 0===t&&1/t==-1/0}function s2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function o2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ce{constructor(e,n){this.comparator=e,this.root=n||Mt.EMPTY}insert(e,n){return new Ce(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new Ce(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ip(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ip(this.root,e,this.comparator,!1)}getReverseIterator(){return new ip(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ip(this.root,e,this.comparator,!0)}}class ip{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Mt.RED,this.left=i??Mt.EMPTY,this.right=s??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Mt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Mt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw P();const e=this.left.check();if(e!==this.right.check())throw P();return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1,Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw P()}get value(){throw P()}get color(){throw P()}get left(){throw P()}get right(){throw P()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Mt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Se{constructor(e){this.comparator=e,this.data=new Ce(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new a2(this.data.getIterator())}getIteratorFrom(e){return new a2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Se(this.comparator);return n.data=e,n}}class a2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fn{constructor(e){this.fields=e,e.sort(Ye.comparator)}static empty(){return new fn([])}unionWith(e){let n=new Se(Ye.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ta(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class u2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new u2("Invalid base64 string: "+i):i}}(e);return new ht(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return W(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ht.EMPTY_BYTE_STRING=new ht("");const rie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(t){if(O(!!t),"string"==typeof t){let e=0;const n=rie.exec(t);if(O(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function li(t){return"string"==typeof t?ht.fromBase64String(t):ht.fromUint8Array(t)}function sp(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function op(t){const e=t.mapValue.fields.__previous_value__;return sp(e)?op(e):e}function rl(t){const e=Gi(t.mapValue.fields.__local_write_time__.timestampValue);return new Le(e.seconds,e.nanos)}class iie{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class qs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new qs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qs&&e.projectId===this.projectId&&e.database===this.database}}const zi_mapValue={fields:{__type__:{stringValue:"__max__"}}};function qi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sp(t)?4:h2(t)?9007199254740991:10:P()}function xr(t,e){if(t===e)return!0;const n=qi(t);if(n!==qi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rl(t).isEqual(rl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Gi(r.timestampValue),o=Gi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,li(t.bytesValue).isEqual(li(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ze(r.geoPointValue.latitude)===ze(i.geoPointValue.latitude)&&ze(r.geoPointValue.longitude)===ze(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ze(r.integerValue)===ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ze(r.doubleValue),o=ze(i.doubleValue);return s===o?nl(s)===nl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ta(t.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(s2(s)!==s2(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!xr(s[a],o[a])))return!1;return!0}(t,e);default:return P()}var i}function il(t,e){return void 0!==(t.values||[]).find(n=>xr(n,e))}function Wi(t,e){if(t===e)return 0;const n=qi(t),r=qi(e);if(n!==r)return W(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return W(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ze(i.integerValue||i.doubleValue),a=ze(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return c2(t.timestampValue,e.timestampValue);case 4:return c2(rl(t),rl(e));case 5:return W(t.stringValue,e.stringValue);case 6:return function(i,s){const o=li(i),a=li(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=W(o[u],a[u]);if(0!==c)return c}return W(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=W(ze(i.latitude),ze(s.latitude));return 0!==o?o:W(ze(i.longitude),ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Wi(o[u],a[u]);if(c)return c}return W(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===zi_mapValue&&s===zi_mapValue)return 0;if(i===zi_mapValue)return 1;if(s===zi_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=W(a[l],c[l]);if(0!==d)return d;const h=Wi(o[a[l]],u[c[l]]);if(0!==h)return h}return W(a.length,c.length)}(t.mapValue,e.mapValue);default:throw P()}}function c2(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return W(t,e);const n=Gi(t),r=Gi(e),i=W(n.seconds,r.seconds);return 0!==i?i:W(n.nanos,r.nanos)}function ba(t){return GT(t)}function GT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Gi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?li(t.bytesValue).toBase64():"referenceValue"in t?S.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=GT(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${GT(r.fields[a])}`;return s+"}"}(t.mapValue):P();var e}function zT(t){return!!t&&"integerValue"in t}function sl(t){return!!t&&"arrayValue"in t}function l2(t){return!!t&&"nullValue"in t}function d2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cp(t){return!!t&&"mapValue"in t}function ol(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ol(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ol(t.arrayValue.values[n]);return e}return Object.assign({},t)}function h2(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Rt{constructor(e){this.value=e}static empty(){return new Rt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ol(n)}setAll(e){let n=Ye.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ol(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());cp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];cp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Rt(ol(this.value))}}function g2(t){const e=[];return Hi(t.fields,(n,r)=>{const i=new Ye([n]);if(cp(r)){const s=g2(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new fn(e)}class Ae{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ae(e,0,L.min(),L.min(),L.min(),Rt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ae(e,1,n,L.min(),r,i,0)}static newNoDocument(e,n){return new Ae(e,2,n,L.min(),L.min(),Rt.empty(),0)}static newUnknownDocument(e,n){return new Ae(e,3,n,L.min(),L.min(),Rt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(L.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=L.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ae&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ae(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ki{constructor(e,n){this.position=e,this.inclusive=n}}function m2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?S.comparator(S.fromName(o.referenceValue),n.key):Wi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function y2(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xr(t.position[n],e.position[n]))return!1;return!0}class Sa{constructor(e,n="asc"){this.field=e,this.dir=n}}function aie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class _2{}class oe extends _2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new uie(e,n,r):"array-contains"===n?new die(e,r):"in"===n?new T2(e,r):"not-in"===n?new hie(e,r):"array-contains-any"===n?new fie(e,r):new oe(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new cie(e,r):new lie(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Wi(n,this.value)):null!==n&&qi(this.value)===qi(n)&&this.matchesComparison(Wi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return P()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _e extends _2{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new _e(e,n)}matches(e){return Aa(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Aa(t){return"and"===t.op}function WT(t){return function v2(t){for(const e of t.filters)if(e instanceof _e)return!1;return!0}(t)&&Aa(t)}function KT(t){if(t instanceof oe)return t.field.canonicalString()+t.op.toString()+ba(t.value);if(WT(t))return t.filters.map(e=>KT(e)).join(",");{const e=t.filters.map(n=>KT(n)).join(",");return`${t.op}(${e})`}}function w2(t,e){return t instanceof oe?(n=t,(r=e)instanceof oe&&n.op===r.op&&n.field.isEqual(r.field)&&xr(n.value,r.value)):t instanceof _e?function(n,r){return r instanceof _e&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&w2(s,r.filters[o]),!0)}(t,e):void P();var n,r}function E2(t){return t instanceof oe?function(e){return`${e.field.canonicalString()} ${e.op} ${ba(e.value)}`}(t):t instanceof _e?function(e){return e.op.toString()+" {"+e.getFilters().map(E2).join(" ,")+"}"}(t):"Filter"}class uie extends oe{constructor(e,n,r){super(e,n,r),this.key=S.fromName(r.referenceValue)}matches(e){const n=S.comparator(e.key,this.key);return this.matchesComparison(n)}}class cie extends oe{constructor(e,n){super(e,"in",n),this.keys=D2(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lie extends oe{constructor(e,n){super(e,"not-in",n),this.keys=D2(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function D2(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>S.fromName(r.referenceValue))}class die extends oe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sl(n)&&il(n.arrayValue,this.value)}}class T2 extends oe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&il(this.value.arrayValue,n)}}class hie extends oe{constructor(e,n){super(e,"not-in",n)}matches(e){if(il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!il(this.value.arrayValue,n)}}class fie extends oe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>il(this.value.arrayValue,r))}}class pie{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function QT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new pie(t,e,n,r,i,s,o)}function Ks(t){const e=A(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>KT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),tl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ba(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ba(r)).join(",")),e.dt=n}return e.dt}function al(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!w2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!y2(t.startAt,e.startAt)&&y2(t.endAt,e.endAt)}function lp(t){return S.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class di{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function xa(t){return new di(t)}function A2(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Qs(t){const e=A(t);if(null===e.wt){e.wt=[];const n=function hp(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function YT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Sa(n)),e.wt.push(new Sa(Ye.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Sa(Ye.keyField(),s))}}}return e.wt}function sn(t){const e=A(t);if(!e._t)if("F"===e.limitType)e._t=QT(e.path,e.collectionGroup,Qs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Qs(e))n.push(new Sa(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ki(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ki(e.startAt.position,e.startAt.inclusive):null;e._t=QT(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function fp(t,e,n){return new di(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ul(t,e){return al(sn(t),sn(e))&&t.limitType===e.limitType}function x2(t){return`${Ks(sn(t))}|lt:${t.limitType}`}function ZT(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>E2(r)).join(", ")}]`),tl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ba(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ba(r)).join(",")),`Target(${n})`}(sn(t))}; limitType=${t.limitType})`}function cl(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):S.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Qs(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=m2(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Qs(n),r)||n.endAt&&!function(i,s,o){const a=m2(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Qs(n),r)));var n,r}function M2(t){return(e,n)=>{let r=!1;for(const i of Qs(t)){const s=gie(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function gie(t,e,n){const r=t.field.isKeyField()?S.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Wi(a,u):P()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return P()}}class hi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return o2(this.inner)}size(){return this.innerSize}}const mie=new Ce(S.comparator);function pn(){return mie}const R2=new Ce(S.comparator);function ll(...t){let e=R2;for(const n of t)e=e.insert(n.key,n);return e}function N2(t){let e=R2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function kr(){return dl()}function P2(){return dl()}function dl(){return new hi(t=>t.toString(),(t,e)=>t.isEqual(e))}const yie=new Ce(S.comparator),_ie=new Se(S.comparator);function Z(...t){let e=_ie;for(const n of t)e=e.add(n);return e}const vie=new Se(W);function O2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nl(e)?"-0":e}}function L2(t){return{integerValue:""+t}}function F2(t,e){return function XF(t){return"number"==typeof t&&Number.isInteger(t)&&!nl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?L2(e):O2(t,e)}class pp{constructor(){this._=void 0}}function wie(t,e,n){return t instanceof ka?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&sp(i)&&(i=op(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ys?U2(t,e):t instanceof Js?B2(t,e):function(r,i){const s=V2(r,i),o=$2(s)+$2(r.gt);return zT(s)&&zT(r.gt)?L2(o):O2(r.serializer,o)}(t,e)}function Iie(t,e,n){return t instanceof Ys?U2(t,e):t instanceof Js?B2(t,e):n}function V2(t,e){return t instanceof Ma?zT(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class ka extends pp{}class Ys extends pp{constructor(e){super(),this.elements=e}}function U2(t,e){const n=j2(e);for(const r of t.elements)n.some(i=>xr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Js extends pp{constructor(e){super(),this.elements=e}}function B2(t,e){let n=j2(e);for(const r of t.elements)n=n.filter(i=>!xr(i,r));return{arrayValue:{values:n}}}class Ma extends pp{constructor(e,n){super(),this.serializer=e,this.gt=n}}function $2(t){return ze(t.integerValue||t.doubleValue)}function j2(t){return sl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Die{constructor(e,n){this.version=e,this.transformResults=n}}class Re{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Re}static exists(e){return new Re(void 0,e)}static updateTime(e){return new Re(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class mp{}function H2(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Na(t.key,Re.none()):new Ra(t.key,t.data,Re.none());{const n=t.data,r=Rt.empty();let i=new Se(Ye.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new fi(t.key,r,new fn(i.toArray()),Re.none())}}function Tie(t,e,n){t instanceof Ra?function(r,i,s){const o=r.value.clone(),a=q2(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof fi?function(r,i,s){if(!gp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=q2(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(z2(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function fl(t,e,n,r){return t instanceof Ra?function(i,s,o,a){if(!gp(i.precondition,s))return o;const u=i.value.clone(),c=W2(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof fi?function(i,s,o,a){if(!gp(i.precondition,s))return o;const u=W2(i.fieldTransforms,a,s),c=s.data;return c.setAll(z2(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,gp(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Cie(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=V2(r.transform,i||null);null!=s&&(null===n&&(n=Rt.empty()),n.set(r.field,s))}return n||null}function G2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Ta(n,r,(i,s)=>function Eie(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Ys&&r instanceof Ys||n instanceof Js&&r instanceof Js?Ta(n.elements,r.elements,xr):n instanceof Ma&&r instanceof Ma?xr(n.gt,r.gt):n instanceof ka&&r instanceof ka);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Ra extends mp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fi extends mp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function z2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function q2(t,e,n){const r=new Map;O(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Iie(o,a,n[i]))}return r}function W2(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,wie(s,o,e))}return r}class Na extends mp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class t0 extends mp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class n0{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Tie(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=P2();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=H2(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(L.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Z())}isEqual(e){return this.batchId===e.batchId&&Ta(this.mutations,e.mutations,(n,r)=>G2(n,r))&&Ta(this.baseMutations,e.baseMutations,(n,r)=>G2(n,r))}}class r0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){O(e.mutations.length===r.length);let i=yie;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new r0(e,n,r,i)}}class s0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Sie{constructor(e,n){this.count=e,this.unchangedNames=n}}var it,he;function K2(t){switch(t){default:return P();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}function Q2(t){if(void 0===t)return Qe("GRPC error has no .code"),I.UNKNOWN;switch(t){case it.OK:return I.OK;case it.CANCELLED:return I.CANCELLED;case it.UNKNOWN:return I.UNKNOWN;case it.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case it.INTERNAL:return I.INTERNAL;case it.UNAVAILABLE:return I.UNAVAILABLE;case it.UNAUTHENTICATED:return I.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case it.NOT_FOUND:return I.NOT_FOUND;case it.ALREADY_EXISTS:return I.ALREADY_EXISTS;case it.PERMISSION_DENIED:return I.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case it.ABORTED:return I.ABORTED;case it.OUT_OF_RANGE:return I.OUT_OF_RANGE;case it.UNIMPLEMENTED:return I.UNIMPLEMENTED;case it.DATA_LOSS:return I.DATA_LOSS;default:return P()}}(he=it||(it={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";class o0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return yp}static getOrCreateInstance(){return null===yp&&(yp=new o0),yp}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let yp=null;const Aie=new Ea([4294967295,4294967295],0);function J2(t){const e=function Y2(){return new TextEncoder}().encode(t),n=new Dre;return n.update(e),new Uint8Array(n.digest())}function X2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ea([n,r],0),new Ea([i,s],0)]}class a0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new pl(`Invalid padding: ${n}`);if(r<0)throw new pl(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new pl(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new pl(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Ea.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Ea.fromNumber(r)));return 1===i.compare(Aie)&&(i=new Ea([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=J2(e),[r,i]=X2(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new a0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=J2(e),[r,i]=X2(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ml.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gl(L.min(),i,new Ce(W),pn(),Z())}}class ml{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ml(r,n,Z(),Z(),Z())}}class _p{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class Z2{constructor(e,n){this.targetId=e,this.Vt=n}}class eV{constructor(e,n,r=ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class tV{constructor(){this.St=0,this.Dt=rV(),this.Ct=ht.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Z(),n=Z(),r=Z();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:P()}}),new ml(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=rV()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class xie{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=pn(),this.zt=nV(),this.Wt=new Ce(W)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:P()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(lp(o))if(0===i){const a=new S(o.path);this.Yt(r,a,Ae.newNoDocument(a,L.min()))}else O(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=o0.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,y,w;const E={localCacheCount:l,existenceFilterCount:d.count},_=d.unchangedNames;return _&&(E.bloomFilter={applied:0===c,hashCount:null!==(h=_?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=_?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(w=null===(y=_?.bits)||void 0===y?void 0:y.padding)&&void 0!==w?w:0}),E}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=li(s).toUint8Array()}catch(l){if(l instanceof u2)return ir("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new a0(u,o,a)}catch(l){return ir(l instanceof pl?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&lp(a.target)){const u=new S(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Ae.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=Z();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new gl(e,n,this.Wt,this.jt,r);return this.jt=pn(),this.zt=nV(),this.Wt=new Ce(W),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new tV,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Se(W),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||C("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new tV),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function nV(){return new Ce(S.comparator)}function rV(){return new Ce(S.comparator)}const kie={asc:"ASCENDING",desc:"DESCENDING"},Mie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rie={and:"AND",or:"OR"};class Nie{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function u0(t,e){return t.useProto3Json||tl(e)?e:{value:e}}function Pa(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Pie(t,e){return Pa(t,e.toTimestamp())}function Je(t){return O(!!t),L.fromTimestamp(function(e){const n=Gi(e);return new Le(n.seconds,n.nanos)}(t))}function c0(t,e){return(n=t,new de(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function sV(t){const e=de.fromString(t);return O(pV(e)),e}function yl(t,e){return c0(t.databaseId,e.path)}function Mr(t,e){const n=sV(e);if(n.get(1)!==t.databaseId.projectId)throw new T(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new S(aV(n))}function l0(t,e){return c0(t.databaseId,e)}function _l(t){return new de(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aV(t){return O(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function uV(t,e,n){return{name:yl(t,e),fields:n.value.mapValue.fields}}function lV(t,e){return{documents:[l0(t,e.path)]}}function h0(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=l0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=l0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return fV(_e.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Qi((l=c).field),direction:Uie(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=u0(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function dV(t){let e=function oV(t){const e=sV(t);return 4===e.length?de.emptyPath():aV(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){O(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=hV(l);return d instanceof _e&&WT(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Sa(Oa((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,tl(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Ki((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Ki(l.values||[],!l.before)}(n.endAt)),function S2(t,e,n,r,i,s,o,a){return new di(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function hV(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Oa(e.unaryFilter.field);return oe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Oa(e.unaryFilter.field);return oe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Oa(e.unaryFilter.field);return oe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Oa(e.unaryFilter.field);return oe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return P()}}(t):void 0!==t.fieldFilter?function(e){return oe.create(Oa(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return P()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return _e.create(e.compositeFilter.filters.map(n=>hV(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return P()}}(e.compositeFilter.op))}(t):P()}function Uie(t){return kie[t]}function Bie(t){return Mie[t]}function $ie(t){return Rie[t]}function Qi(t){return{fieldPath:t.canonicalString()}}function Oa(t){return Ye.fromServerFormat(t.fieldPath)}function fV(t){return t instanceof oe?function(e){if("=="===e.op){if(d2(e.value))return{unaryFilter:{field:Qi(e.field),op:"IS_NAN"}};if(l2(e.value))return{unaryFilter:{field:Qi(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(d2(e.value))return{unaryFilter:{field:Qi(e.field),op:"IS_NOT_NAN"}};if(l2(e.value))return{unaryFilter:{field:Qi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qi(e.field),op:Bie(e.op),value:e.value}}}(t):t instanceof _e?function(e){const n=e.getFilters().map(r=>fV(r));return 1===n.length?n[0]:{compositeFilter:{op:$ie(e.op),filters:n}}}(t):P()}function jie(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pV(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class pi{constructor(e,n,r,i,s=L.min(),o=L.min(),a=ht.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class gV{constructor(e){this.fe=e}}function f0(t){const e=dV({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?fp(e,e.limit,"L"):e}class to{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(ze(e.integerValue));else if("doubleValue"in e){const r=ze(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),nl(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(li(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?h2(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):P()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),S.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}to.Ve=new to;class Jie{constructor(){this.rn=new v0}addToCollectionParentIndex(e,n){return this.rn.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(xn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(xn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class v0{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Se(de.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Se(de.comparator)).toArray()}}new Uint8Array(0);class Ht{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ht(e,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ht.DEFAULT_COLLECTION_PERCENTILE=10,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ht.DEFAULT=new Ht(41943040,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ht.DISABLED=new Ht(-1,0,0);class ro{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ro(0)}static Mn(){return new ro(-1)}}class ose{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class $V{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&fl(r.mutation,i,fn.empty(),Le.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Z()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Z()){const i=kr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ll();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=kr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Z()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=pn();const o=dl(),a=dl();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof fi)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),fl(l.mutation,c,l.mutation.getFieldMask(),Le.now())):o.set(c.key,fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new ose(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=dl();let i=new Ce((o,a)=>o-a),s=Z();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||fn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||Z()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=P2();l.forEach(h=>{if(!s.has(h)){const f=H2(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return S.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function JT(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(kr());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Z())).next(l=>({batchId:a,changes:N2(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new S(n)).next(r=>{let i=ll();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=ll();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=n,l=a.child(i),new di(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Ae.newInvalidDocument(c)))});let o=ll();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&fl(c.mutation,u,fn.empty(),Le.now()),cl(n,u)&&(o=o.insert(a,u))}),o})}}class ase{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return v.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Je(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:f0(r.bundledQuery),readTime:Je(r.readTime)}),v.resolve();var r}}class use{constructor(){this.overlays=new Ce(S.comparator),this.ls=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=kr();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=kr(),s=n.length+1,o=new S(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ce((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=kr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=kr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new s0(n,r));let s=this.ls.get(n);void 0===s&&(s=Z(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class w0{constructor(){this.fs=new Se(Et.ds),this.ws=new Se(Et._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Et(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Et(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new S(new de([])),r=new Et(n,e),i=new Et(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new S(new de([])),r=new Et(n,e),i=new Et(n,e+1);let s=Z();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Et(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Et{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return S.comparator(e.key,n.key)||W(e.As,n.As)}static _s(e,n){return W(e.As,n.As)||S.comparator(e.key,n.key)}}class cse{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Se(Et.ds)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new n0(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Et(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Et(n,0),i=new Et(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Se(W);return n.forEach(i=>{const s=new Et(i,0),o=new Et(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),v.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;S.isDocumentKey(s)||(s=s.child(""));const o=new Et(new S(s),0);let a=new Se(W);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),v.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){O(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return v.forEach(n.mutations,i=>{const s=new Et(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Et(n,0),i=this.Rs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class lse{constructor(e){this.Ds=e,this.docs=new Ce(S.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Ae.newInvalidDocument(n))}getEntries(e,n){let r=pn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ae.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=pn();const o=n.path,a=new S(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||BT(QF(l),r)<=0||(i.has(l.key)||cl(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,r,i){P()}Cs(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dse(this)}getSize(e){return v.resolve(this.size)}}class dse extends class rse{constructor(){this.changes=new hi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ae.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class hse{constructor(e){this.persistence=e,this.xs=new hi(n=>Ks(n),al),this.lastRemoteSnapshotVersion=L.min(),this.highestTargetId=0,this.Ns=0,this.ks=new w0,this.targetCount=0,this.Ms=ro.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),v.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new ro(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Fn(n),v.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.ks.containsKey(n))}}class I0{constructor(e,n){this.$s={},this.overlays={},this.Os=new kn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new hse(this),this.indexManager=new Jie,this.remoteDocumentCache=new lse(r=>this.referenceDelegate.Ls(r)),this.serializer=new gV(n),this.qs=new ase(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new use,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new cse(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){C("MemoryPersistence","Starting transaction:",e);const i=new fse(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return v.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class fse extends class Pre{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Sp{constructor(e){this.persistence=e,this.Qs=new w0,this.js=null}static zs(e){return new Sp(e)}get Ws(){if(this.js)return this.js;throw P()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),v.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ws,r=>{const i=S.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,L.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return v.or([()=>v.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class C0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Z(),i=Z();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new C0(e,n.fromCache,r,i)}}class HV{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(A2(n))return v.resolve(null);let r=sn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=fp(n,null,"F"),r=sn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Z(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,fp(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return A2(n)||i.isEqual(L.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(FT()<=ue.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ZT(n)),this.Wi(e,o,n,function KF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=L.fromTimestamp(1e9===r?new Le(n+1,0):new Le(n,r));return new xn(i,S.empty(),e)}(i,-1)))})}ji(e,n){let r=new Se(M2(e));return n.forEach((i,s)=>{cl(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return FT()<=ue.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",ZT(n)),this.Ui.getDocumentsMatchingQuery(e,n,xn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class gse{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Ce(W),this.Yi=new hi(s=>Ks(s),al),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $V(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function zV(t,e){return b0.apply(this,arguments)}function b0(){return b0=m(function*(t,e){const n=A(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Z();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),b0.apply(this,arguments)}function mse(t,e){const n=A(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);O(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Z();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function qV(t){const e=A(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function yse(t,e){const n=A(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(ht.EMPTY_BYTE_STRING,L.min()).withLastLimboFreeSnapshotVersion(L.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=pn(),c=Z();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function WV(t,e,n){let r=Z(),i=Z();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=pn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(L.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):C("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(L.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}function _se(t,e){const n=A(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Va(t,e){const n=A(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new pi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}function Ua(t,e,n){return S0.apply(this,arguments)}function S0(){return S0=m(function*(t,e,n){const r=A(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ji(o))throw o;C("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),S0.apply(this,arguments)}function kp(t,e,n){const r=A(t);let i=L.min(),s=Z();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=A(a),d=l.Yi.get(c);return void 0!==d?v.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,sn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:L.min(),n?s:Z())).next(a=>(function YV(t,e,n){let r=t.Xi.get(e)||L.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function k2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class R0{constructor(){this.activeTargetIds=function e0(){return vie}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZV{constructor(){this.Hr=new R0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new R0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ise{Yr(e){}shutdown(){}}class eU{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Np=null;function P0(){return null===Np?Np=268435456+Math.round(2147483648*Math.random()):Np++,"0x"+Np.toString(16)}const Ese={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dse{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Gt="WebChannelConnection";class Tse extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=P0(),a=this.To(e,n);C("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(C("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw ir("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Da,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${Ese[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=P0();return new Promise((o,a)=>{const u=new Ere;u.setWithCredentials(!0),u.listenOnce(vre.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case LT.NO_ERROR:const l=u.getResponseJson();C(Gt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case LT.TIMEOUT:C(Gt,`RPC '${e}' ${s} timed out`),a(new T(I.DEADLINE_EXCEEDED,"Request time out"));break;case LT.HTTP_ERROR:const d=u.getStatus();if(C(Gt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(y)>=0?y:I.UNKNOWN}(f.status);a(new T(p,f.message))}else a(new T(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new T(I.UNAVAILABLE,"Connection failed."));break;default:P()}}finally{C(Gt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);C(Gt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=P0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=yre(),a=_re(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Ire({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");C(Gt,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Dse({ro:y=>{f?C(Gt,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(C(Gt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),C(Gt,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),g=(y,w,E)=>{y.listen(w,_=>{try{E(_)}catch(x){setTimeout(()=>{throw x},0)}})};return g(d,Zf.EventType.OPEN,()=>{f||C(Gt,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Zf.EventType.CLOSE,()=>{f||(f=!0,C(Gt,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,Zf.EventType.ERROR,y=>{f||(f=!0,ir(Gt,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new T(I.UNAVAILABLE,"The operation could not be completed")))}),g(d,Zf.EventType.MESSAGE,y=>{var w;if(!f){const E=y.data[0];O(!!E);const _=E,x=_.error||(null===(w=_[0])||void 0===w?void 0:w.error);if(x){C(Gt,`RPC '${e}' stream ${i} received error:`,x);const F=x.status;let U=function(Mn){const Nr=it[Mn];if(void 0!==Nr)return Q2(Nr)}(F),ke=x.message;void 0===U&&(U=I.INTERNAL,ke="Unknown error status: "+F+" with message "+x.message),f=!0,p.wo(new T(U,ke)),d.close()}else C(Gt,`RPC '${e}' stream ${i} received:`,E),p._o(E)}}),g(a,wre.STAT_EVENT,y=>{y.stat===jF.PROXY?C(Gt,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===jF.NOPROXY&&C(Gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Pp(){return typeof document<"u"?document:null}function Al(t){return new Nie(t,!0)}class O0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class nU{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new O0(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return m(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return m(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return m(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(Qe(n.toString()),Qe("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new T(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(m(function*(){e.state=0,e.start()}))}tu(e){return C("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Cse extends nU{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Lie(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:P(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(O(void 0===c||"string"==typeof c),ht.fromBase64String(c||"")):(O(void 0===c||c instanceof Uint8Array),ht.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:Q2(u.code);return new T(c,u.message||"")}(o);n=new eV(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Mr(t,r.document.name),s=Je(r.document.updateTime),o=r.document.createTime?Je(r.document.createTime):L.min(),a=new Rt({mapValue:{fields:r.document.fields}}),u=Ae.newFoundDocument(i,s,o,a);n=new _p(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Mr(t,r.document),s=r.readTime?Je(r.readTime):L.min(),o=Ae.newNoDocument(i,s);n=new _p([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Mr(t,r.document);n=new _p([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return P();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Sie(i,s);n=new Z2(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return L.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?L.min():s.readTime?Je(s.readTime):L.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=_l(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=lp(a)?{documents:lV(i,a)}:{query:h0(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=iV(i,s.resumeToken);const u=u0(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(L.min())>0){o.readTime=Pa(i,s.snapshotVersion.toTimestamp());const u=u0(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function Vie(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return P()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=_l(this.serializer),n.removeTarget=e,this.Wo(n)}}class bse extends nU{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(O(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Fie(t,e){return t&&t.length>0?(O(void 0!==e),t.map(n=>function(r,i){let s=Je(r.updateTime?r.updateTime:i);return s.isEqual(L.min())&&(s=Je(i)),new Die(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Je(e.commitTime);return this.listener.cu(r,n)}return O(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=_l(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function vl(t,e){let n;if(e instanceof Ra)n={update:uV(t,e.key,e.value)};else if(e instanceof Na)n={delete:yl(t,e.key)};else if(e instanceof fi)n={update:uV(t,e.key,e.data),updateMask:jie(e.fieldMask)};else{if(!(e instanceof t0))return P();n={verify:yl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ka)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ys)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Js)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ma)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw P()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Pie(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:P()),n;var i}(this.serializer,r))};this.Wo(n)}}class Sse extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new T(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class xse{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Qe(n),this.mu=!1):C("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class kse{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(m(function*(){var u;Zi(o)&&(C("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(c){const l=A(c);l.vu.add(4),yield Ba(l),l.bu.set("Unknown"),l.vu.delete(4),yield xl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new xse(r,i)}}function xl(t){return F0.apply(this,arguments)}function F0(){return F0=m(function*(t){if(Zi(t))for(const e of t.Ru)yield e(!0)}),F0.apply(this,arguments)}function Ba(t){return V0.apply(this,arguments)}function V0(){return V0=m(function*(t){for(const e of t.Ru)yield e(!1)}),V0.apply(this,arguments)}function Op(t,e){const n=A(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),$0(n)?B0(n):ja(n).Ko()&&U0(n,e))}function kl(t,e){const n=A(t),r=ja(n);n.Au.delete(e),r.Ko()&&rU(n,e),0===n.Au.size&&(r.Ko()?r.jo():Zi(n)&&n.bu.set("Unknown"))}function U0(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(L.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ja(t).su(e)}function rU(t,e){t.Vu.qt(e),ja(t).iu(e)}function B0(t){t.Vu=new xie({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),ja(t).start(),t.bu.gu()}function $0(t){return Zi(t)&&!ja(t).Uo()&&t.Au.size>0}function Zi(t){return 0===A(t).vu.size}function iU(t){t.Vu=void 0}function Mse(t){return j0.apply(this,arguments)}function j0(){return j0=m(function*(t){t.Au.forEach((e,n)=>{U0(t,e)})}),j0.apply(this,arguments)}function Rse(t,e){return H0.apply(this,arguments)}function H0(){return H0=m(function*(t,e){iU(t),$0(t)?(t.bu.Iu(e),B0(t)):t.bu.set("Unknown")}),H0.apply(this,arguments)}function Nse(t,e,n){return G0.apply(this,arguments)}function G0(){return G0=m(function*(t,e,n){if(t.bu.set("Online"),e instanceof eV&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){C("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Lp(t,r)}else if(e instanceof _p?t.Vu.Ht(e):e instanceof Z2?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(L.min()))try{const r=yield qV(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(ht.EMPTY_BYTE_STRING,c.snapshotVersion)),rU(i,a);const l=new pi(c.target,a,u,c.sequenceNumber);U0(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){C("RemoteStore","Failed to raise snapshot:",r),yield Lp(t,r)}var r}),G0.apply(this,arguments)}function Lp(t,e,n){return z0.apply(this,arguments)}function z0(){return z0=m(function*(t,e,n){if(!ji(e))throw e;t.vu.add(1),yield Ba(t),t.bu.set("Offline"),n||(n=()=>qV(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){C("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield xl(t)}))}),z0.apply(this,arguments)}function sU(t,e){return e().catch(n=>Lp(t,n,e))}function $a(t){return q0.apply(this,arguments)}function q0(){return q0=m(function*(t){const e=A(t),n=es(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Pse(e);)try{const i=yield _se(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,Ose(e,i)}catch(i){yield Lp(e,i)}oU(e)&&aU(e)}),q0.apply(this,arguments)}function Pse(t){return Zi(t)&&t.Eu.length<10}function Ose(t,e){t.Eu.push(e);const n=es(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function oU(t){return Zi(t)&&!es(t).Uo()&&t.Eu.length>0}function aU(t){es(t).start()}function Lse(t){return W0.apply(this,arguments)}function W0(){return W0=m(function*(t){es(t).hu()}),W0.apply(this,arguments)}function Fse(t){return K0.apply(this,arguments)}function K0(){return K0=m(function*(t){const e=es(t);for(const n of t.Eu)e.uu(n.mutations)}),K0.apply(this,arguments)}function Vse(t,e,n){return Q0.apply(this,arguments)}function Q0(){return Q0=m(function*(t,e,n){const r=t.Eu.shift(),i=r0.from(r,e,n);yield sU(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield $a(t)}),Q0.apply(this,arguments)}function Use(t,e){return Y0.apply(this,arguments)}function Y0(){return Y0=m(function*(t,e){var n;e&&es(t).ou&&(yield(n=m(function*(r,i){if(K2(s=i.code)&&s!==I.ABORTED){const o=r.Eu.shift();es(r).Qo(),yield sU(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield $a(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),oU(t)&&aU(t)}),Y0.apply(this,arguments)}function uU(t,e){return J0.apply(this,arguments)}function J0(){return J0=m(function*(t,e){const n=A(t);n.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");const r=Zi(n);n.vu.add(3),yield Ba(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield xl(n)}),J0.apply(this,arguments)}function Z0(){return Z0=m(function*(t,e){const n=A(t);e?(n.vu.delete(2),yield xl(n)):e||(n.vu.add(2),yield Ba(n),n.bu.set("Unknown"))}),Z0.apply(this,arguments)}function ja(t){return t.Su||(t.Su=function(e,n,r){const i=A(e);return i.fu(),new Cse(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Mse.bind(null,t),ao:Rse.bind(null,t),nu:Nse.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Su.Qo(),$0(t)?B0(t):t.bu.set("Unknown")):(yield t.Su.stop(),iU(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function es(t){return t.Du||(t.Du=function(e,n,r){const i=A(e);return i.fu(),new bse(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Lse.bind(null,t),ao:Use.bind(null,t),au:Fse.bind(null,t),cu:Vse.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Du.Qo(),yield $a(t)):(yield t.Du.stop(),t.Eu.length>0&&(C("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class eC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new dt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new eC(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ha(t,e){if(Qe("AsyncQueue",`${e}: ${t}`),ji(t))return new T(I.UNAVAILABLE,`${e}: ${t}`);throw t}class Ga{constructor(e){this.comparator=e?(n,r)=>e(n,r)||S.comparator(n.key,r.key):(n,r)=>S.comparator(n.key,r.key),this.keyedMap=ll(),this.sortedSet=new Ce(this.comparator)}static emptySet(e){return new Ga(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ga)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ga;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class cU{constructor(){this.Cu=new Ce(S.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):P():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class za{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new za(e,n,Ga.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ul(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Bse{constructor(){this.Nu=void 0,this.listeners=[]}}class $se{constructor(){this.queries=new hi(e=>x2(e),ul),this.onlineState="Unknown",this.ku=new Set}}function tC(t,e){return nC.apply(this,arguments)}function nC(){return nC=m(function*(t,e){const n=A(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Bse),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=Ha(o,`Initialization of query '${ZT(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&sC(n)}),nC.apply(this,arguments)}function rC(t,e){return iC.apply(this,arguments)}function iC(){return iC=m(function*(t,e){const n=A(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),iC.apply(this,arguments)}function jse(t,e){const n=A(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&sC(n)}function Hse(t,e,n){const r=A(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function sC(t){t.ku.forEach(e=>{e.next()})}class oC{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new za(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class hU{constructor(e){this.key=e}}class fU{constructor(e){this.key=e}}class pU{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Z(),this.mutatedKeys=Z(),this.tc=M2(e),this.ec=new Ga(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new cU,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=cl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new za(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new cU,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Z(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new fU(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new hU(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Z();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return za.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class qse{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Wse{constructor(e){this.key=e,this.fc=!1}}class Kse{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new hi(a=>x2(a),ul),this._c=new Map,this.mc=new Set,this.gc=new Ce(S.comparator),this.yc=new Map,this.Ic=new w0,this.Tc={},this.Ec=new Map,this.Ac=ro.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Qse(t,e){return aC.apply(this,arguments)}function aC(){return aC=m(function*(t,e){const n=kC(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield Va(n.localStore,sn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield uC(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Op(n.remoteStore,o)}return i}),aC.apply(this,arguments)}function uC(t,e,n,r,i){return cC.apply(this,arguments)}function cC(){return cC=m(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=m(function*(g,y,w,E){let _=y.view.sc(w);_.zi&&(_=yield kp(g.localStore,y.query,!1).then(({documents:U})=>y.view.sc(U,_)));const x=E&&E.targetChanges.get(y.targetId),F=y.view.applyChanges(_,g.isPrimaryClient,x);return vC(g,y.targetId,F.cc),F.snapshot}),function(g,y,w,E){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield kp(t.localStore,e,!0),o=new pU(e,s.ir),a=o.sc(s.documents),u=ml.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);vC(t,n,c.cc);const l=new qse(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),cC.apply(this,arguments)}function Yse(t,e){return lC.apply(this,arguments)}function lC(){return lC=m(function*(t,e){const n=A(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!ul(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ua(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),kl(n.remoteStore,r.targetId),qa(n,r.targetId)}).catch($i))):(qa(n,r.targetId),yield Ua(n.localStore,r.targetId,!0))}),lC.apply(this,arguments)}function dC(){return dC=m(function*(t,e,n){const r=MC(t);try{const i=yield function(s,o){const a=A(s),u=Le.now(),c=o.reduce((h,f)=>h.add(f.key),Z());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=pn(),p=Z();return a.Zi.getEntries(h,c).next(g=>{f=g,f.forEach((y,w)=>{w.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const y=[];for(const w of o){const E=Cie(w,l.get(w.key).overlayedDocument);null!=E&&y.push(new fi(w.key,E,g2(E.value.mapValue),Re.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(g=>{d=g;const y=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,y)})}).then(()=>({batchId:d.batchId,changes:N2(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Ce(W)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield gi(r,i.changes),yield $a(r.remoteStore)}catch(i){const s=Ha(i,"Failed to persist write");n.reject(s)}}),dC.apply(this,arguments)}function gU(t,e){return hC.apply(this,arguments)}function hC(){return hC=m(function*(t,e){const n=A(t);try{const r=yield yse(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(O(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?O(o.fc):i.removedDocuments.size>0&&(O(o.fc),o.fc=!1))}),yield gi(n,r,e)}catch(r){yield $i(r)}}),hC.apply(this,arguments)}function mU(t,e,n){const r=A(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=A(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&sC(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Xse(t,e,n){return fC.apply(this,arguments)}function fC(){return fC=m(function*(t,e,n){const r=A(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Ce(S.comparator);o=o.insert(s,Ae.newNoDocument(s,L.min()));const a=Z().add(s),u=new gl(L.min(),new Map,new Ce(W),o,a);yield gU(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),wC(r)}else yield Ua(r.localStore,e,!1).then(()=>qa(r,e,n)).catch($i)}),fC.apply(this,arguments)}function Zse(t,e){return pC.apply(this,arguments)}function pC(){return pC=m(function*(t,e){const n=A(t),r=e.batch.batchId;try{const i=yield mse(n.localStore,e);_C(n,r,null),yC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield gi(n,i)}catch(i){yield $i(i)}}),pC.apply(this,arguments)}function eoe(t,e,n){return gC.apply(this,arguments)}function gC(){return gC=m(function*(t,e,n){const r=A(t);try{const i=yield function(s,o){const a=A(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(O(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);_C(r,e,n),yC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield gi(r,i)}catch(i){yield $i(i)}}),gC.apply(this,arguments)}function yC(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function _C(t,e,n){const r=A(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function qa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||yU(t,r)})}function yU(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(kl(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),wC(t))}function vC(t,e,n){for(const r of n)r instanceof hU?(t.Ic.addReference(r.key,e),noe(t,r)):r instanceof fU?(C("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||yU(t,r.key)):P()}function noe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(C("SyncEngine","New document in limbo: "+n),t.mc.add(r),wC(t))}function wC(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new S(de.fromString(e)),r=t.Ac.next();t.yc.set(r,new Wse(n)),t.gc=t.gc.insert(n,r),Op(t.remoteStore,new pi(sn(xa(n.path)),r,"TargetPurposeLimboResolution",kn.ct))}}function gi(t,e,n){return IC.apply(this,arguments)}function IC(){return IC=m(function*(t,e,n){const r=A(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=C0.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=m(function*(u,c){const l=A(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ji(d))throw d;C("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),IC.apply(this,arguments)}function roe(t,e){return EC.apply(this,arguments)}function EC(){return EC=m(function*(t,e){const n=A(t);if(!n.currentUser.isEqual(e)){C("SyncEngine","User change. New user:",e.toKey());const r=yield zV(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new T(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield gi(n,r.er)}var i}),EC.apply(this,arguments)}function ioe(t,e){const n=A(t),r=n.yc.get(e);if(r&&r.fc)return Z().add(r.key);{let i=Z();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function kC(t){const e=A(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ioe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xse.bind(null,e),e.dc.nu=jse.bind(null,e.eventManager),e.dc.Pc=Hse.bind(null,e.eventManager),e}function MC(t){const e=A(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eoe.bind(null,e),e}class Fp{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.serializer=Al(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function GV(t,e,n,r){return new gse(t,e,n,r)}(this.persistence,new HV,e.initialUser,this.serializer)}createPersistence(e){return new I0(Sp.zs,this.serializer)}createSharedClientState(e){return new ZV}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Wa{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>mU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=roe.bind(null,r.syncEngine),yield function X0(t,e){return Z0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new $se}createDatastore(e){const n=Al(e.databaseInfo.databaseId),r=new Tse(e.databaseInfo);return new Sse(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>mU(this.syncEngine,a,0),o=eU.D()?new eU:new Ise,new kse(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Kse(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=m(function*(n){const r=A(n);C("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Ba(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class Vp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Qe("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class yoe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=wt.UNAUTHENTICATED,this.clientId=qF.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){C("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(C("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new dt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Ha(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Up(t,e){return RC.apply(this,arguments)}function RC(){return RC=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield zV(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),RC.apply(this,arguments)}function NC(t,e){return PC.apply(this,arguments)}function PC(){return PC=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield OC(t);C("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>uU(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>uU(e.remoteStore,s)),t._onlineComponents=e}),PC.apply(this,arguments)}function DU(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function OC(t){return LC.apply(this,arguments)}function LC(){return LC=m(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){C("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Up(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!DU(n))throw n;ir("Error using user provided cache. Falling back to memory cache: "+n),yield Up(t,new Fp)}}else C("FirestoreClient","Using default OfflineComponentProvider"),yield Up(t,new Fp);return t._offlineComponents}),LC.apply(this,arguments)}function Bp(t){return FC.apply(this,arguments)}function FC(){return FC=m(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(C("FirestoreClient","Using user provided OnlineComponentProvider"),yield NC(t,t._uninitializedComponentsProvider._online)):(C("FirestoreClient","Using default OnlineComponentProvider"),yield NC(t,new Wa))),t._onlineComponents}),FC.apply(this,arguments)}function Ka(t){return UC.apply(this,arguments)}function UC(){return UC=m(function*(t){const e=yield Bp(t),n=e.eventManager;return n.onListen=Qse.bind(null,e.syncEngine),n.onUnlisten=Yse.bind(null,e.syncEngine),n}),UC.apply(this,arguments)}function xU(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const kU=new Map;function BC(t,e,n){if(!n)throw new T(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MU(t){if(!S.isDocumentKey(t))throw new T(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function RU(t){if(S.isDocumentKey(t))throw new T(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":P()}function ce(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jp(t);throw new T(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class PU{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new T(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function boe(t,e,n,r){if(!0===e&&!0===r)throw new T(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=xU(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ml{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PU(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Tre;switch(n.type){case"firstParty":return new Are(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new T(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=kU.get(e);n&&(C("ComponentProvider","Removing Datastore"),kU.delete(e),n.terminate())}(this),Promise.resolve()}}class Xe{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xe(this.firestore,e,this._key)}}class Nt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Nt(this.firestore,e,this._query)}}class Rr extends Nt{constructor(e,n,r){super(e,n,xa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xe(this.firestore,null,new S(e))}withConverter(e){return new Rr(this.firestore,e,this._path)}}function Aoe(t,e,...n){if(t=en(t),BC("collection","path",e),t instanceof Ml){const r=de.fromString(e,...n);return RU(r),new Rr(t,null,r)}{if(!(t instanceof Xe||t instanceof Rr))throw new T(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(de.fromString(e,...n));return RU(r),new Rr(t.firestore,null,r)}}function OU(t,e,...n){if(t=en(t),1===arguments.length&&(e=qF.A()),BC("doc","path",e),t instanceof Ml){const r=de.fromString(e,...n);return MU(r),new Xe(t,null,new S(r))}{if(!(t instanceof Xe||t instanceof Rr))throw new T(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(de.fromString(e,...n));return MU(r),new Xe(t.firestore,t instanceof Rr?t.converter:null,new S(r))}}class xoe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new O0(this,"async_queue_retry"),this.Xc=()=>{const n=Pp();n&&C("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Pp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Pp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new dt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!ji(n))throw n;C("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Qe("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=eC.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&P()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function $C(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class xe extends Ml{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new xoe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||FU(this),this._firestoreClient.terminate()}}function Moe(t,e){const r="string"==typeof t?t:e||"(default)",i=Qh("object"==typeof t?t:VN(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Gh())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function Soe(t,e,n,r={}){var i;const s=(t=ce(t,Ml))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&ir("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=wt.MOCK_USER;else{a=function _K(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jh(JSON.stringify({alg:"none",type:"JWT"})),jh(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new T(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new wt(c)}t._authCredentials=new Cre(new GF(a,u))}}(i,...s)}return i}function st(t){return t._firestoreClient||FU(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function FU(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new iie(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,xU(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new yoe(t._authCredentials,t._appCheckCredentials,t._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class so{constructor(e){this._byteString=e}static fromBase64String(e){try{return new so(ht.fromBase64String(e))}catch(n){throw new T(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new so(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qa{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new T(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jC{constructor(e){this._methodName=e}}class HC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return W(this._lat,e._lat)||W(this._long,e._long)}}const Noe=/^__.*__$/;class Poe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new fi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ra(e,this.data,n,this.fieldTransforms)}}class BU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $U(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P()}}class Hp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Hp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return zp(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if($U(this.ca)&&Noe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Ooe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Al(e)}ya(e,n,r,i=!1){return new Hp({ca:e,methodName:n,ga:r,path:Ye.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ya(t){const e=t._freezeSettings(),n=Al(t._databaseId);return new Ooe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function GC(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);qC("Data must be an object, but it was:",o,r);const a=qU(r,o);let u,c;if(s.merge)u=new fn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Pl(e,d,n);if(!o.contains(h))throw new T(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);KU(l,h)||l.push(h)}u=new fn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Poe(new Rt(a),u,c)}class Nl extends jC{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nl}}function oo(t,e){if(WU(t=en(t)))return qC("Unsupported field value:",e,t),qU(t,e);if(t instanceof jC)return function(n,r){if(!$U(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=oo(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=en(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return F2(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Le.fromDate(n);return{timestampValue:Pa(r.serializer,i)}}if(n instanceof Le){const i=new Le(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Pa(r.serializer,i)}}if(n instanceof HC)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof so)return{bytesValue:iV(r.serializer,n._byteString)};if(n instanceof Xe){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:c0(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${jp(n)}`)}(t,e)}function qU(t,e){const n={};return o2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hi(t,(r,i)=>{const s=oo(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function WU(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Le||t instanceof HC||t instanceof so||t instanceof Xe||t instanceof jC)}function qC(t,e,n){if(!WU(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=jp(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Pl(t,e,n){if((e=en(e))instanceof Qa)return e._internalPath;if("string"==typeof e)return Gp(t,e);throw zp("Field path arguments must be of type string or ",t,!1,void 0,n)}const Uoe=new RegExp("[~\\*/\\[\\]]");function Gp(t,e,n){if(e.search(Uoe)>=0)throw zp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qa(...e.split("."))._internalPath}catch{throw zp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new T(I.INVALID_ARGUMENT,a+t+u)}function KU(t,e){return t.some(n=>n.isEqual(e))}class WC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Xe(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Boe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Boe extends WC{data(){return super.data()}}function qp(t,e){return"string"==typeof e?Gp(t,e):e instanceof Qa?e._internalPath:e._delegate._internalPath}function QC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ao{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xa extends WC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yp extends Xa{data(e={}){return super.data(e)}}class Za{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ao(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yp(this._firestore,this._userDataWriter,r.key,r,new ao(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Yp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ao(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Yp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ao(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Goe(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Goe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P()}}function zoe(t){t=ce(t,Xe);const e=ce(t.firestore,xe);return function SU(t,e,n={}){const r=new dt;return t.asyncQueue.enqueueAndForget(m(function*(){return function(i,s,o,a,u){const c=new Vp({next:d=>{s.enqueueAndForget(()=>rC(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new T(I.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new T(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new oC(xa(o.path),c,{includeMetadataChanges:!0,Ku:!0});return tC(i,l)}(yield Ka(t),t.asyncQueue,e,n,r)})),r.promise}(st(e),t._key).then(n=>YC(e,t,n))}class ts extends class joe{convertValue(e,n="none"){switch(qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw P()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new HC(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=op(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rl(e));default:return null}}convertTimestamp(e){const n=Gi(e);return new Le(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=de.fromString(e);O(pV(r));const i=new qs(r.get(1),r.get(3)),s=new S(r.popFirst(5));return i.isEqual(n)||Qe(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new so(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xe(this.firestore,null,n)}}function qoe(t,e,n){t=ce(t,Xe);const r=ce(t.firestore,xe),i=QC(t.converter,e,n);return Ll(r,[GC(Ya(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Re.none())])}function Woe(t,e,n,...r){t=ce(t,Xe);const i=ce(t.firestore,xe),s=Ya(i);let o;return o="string"==typeof(e=en(e))||e instanceof Qa?function GU(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[Pl(e,r,n)],u=[i];if(s.length%2!=0)throw new T(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Pl(e,s[h])),u.push(s[h+1]);const c=[],l=Rt.empty();for(let h=a.length-1;h>=0;--h)if(!KU(c,a[h])){const f=a[h];let p=u[h];p=en(p);const g=o.da(f);if(p instanceof Nl)c.push(f);else{const y=oo(p,g);null!=y&&(c.push(f),l.set(f,y))}}const d=new fn(c);return new BU(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function HU(t,e,n,r){const i=t.ya(1,e,n);qC("Data must be an object, but it was:",i,r);const s=[],o=Rt.empty();Hi(r,(u,c)=>{const l=Gp(e,u,n);c=en(c);const d=i.da(l);if(c instanceof Nl)s.push(l);else{const h=oo(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new fn(s);return new BU(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),Ll(i,[o.toMutation(t._key,Re.exists(!0))])}function Koe(t,e){const n=ce(t.firestore,xe),r=OU(t),i=QC(t.converter,e);return Ll(n,[GC(Ya(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Re.exists(!1))]).then(()=>r)}function nB(t,...e){var n,r,i;t=en(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||$C(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if($C(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof Xe)c=ce(t.firestore,xe),l=xa(t._key.path),u={next:d=>{e[o]&&e[o](YC(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ce(t,Nt);c=ce(d.firestore,xe),l=d._query;const h=new ts(c);u={next:f=>{e[o]&&e[o](new Za(c,h,d,f))},error:e[o+1],complete:e[o+2]},function QU(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new T(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new Vp(p),y=new oC(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return tC(yield Ka(d),y)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(m(function*(){return rC(yield Ka(d),y)}))}}(st(c),l,a,u)}function Ll(t,e){return function(n,r){const i=new dt;return n.asyncQueue.enqueueAndForget(m(function*(){return function Jse(t,e,n){return dC.apply(this,arguments)}(yield function VC(t){return Bp(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(st(t),e)}function YC(t,e,n){const r=n.docs.get(e._key),i=new ts(t);return new Xa(t,i,e._key,r,new ao(n.hasPendingWrites,n.fromCache),e.converter)}!function(t,e=!0){Da="9.23.0",tn(new Ut("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new xe(new bre(n.getProvider("auth-internal")),new xre(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new T(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qs(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ke(HF,"3.13.0",t),Ke(HF,"3.13.0","esm2017")}();var oae={includeMetadataChanges:!1};function fae(t,e){return void 0===e&&(e={}),function hae(t){return function JC(t,e){return void 0===e&&(e=oae),new Fe(function(n){return{unsubscribe:nB(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})}})}(t,{includeMetadataChanges:!0}).pipe(ae(function(e){return e.docs}))}(t).pipe(ae(function(n){return n.map(function(r){return function iB(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Xp{constructor(e){return e}}const uB="firestore",eb=new j("angularfire2.firestore-instances");function mae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Xp(r)}}const yae={provide:class pae{constructor(){return wI(uB)}},deps:[[new Qt,eb]]},_ae={provide:Xp,useFactory:function gae(t,e){const n=function vI(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(uB,t,e);return n&&new Xp(n)},deps:[[new Qt,eb],da]};let vae=(()=>{class t{constructor(){Ke("angularfire",dI.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vr({type:t}),t.\u0275inj=ur({providers:[_ae,yae]}),t})();function wae(t,...e){return{ngModule:vae,providers:[{provide:eb,useFactory:mae(t),multi:!0,deps:[$e,Tn,ZP,eO,[new Qt,iL],[new Qt,bL],...e]}]}}const Iae=Er(fae,!0),cB=Er(Koe,!0),uo=Er(Aoe,!0),lB=Er(OU,!0),Eae=Er(zoe,!0),Dae=Er(Moe,!0),tb=Er(nB,!0),Tae=Er(qoe,!0),Cae=Er(Woe,!0),bae=[{path:"",component:(()=>{class t{constructor(){var n=this;this.firestore=Ue(Xp),this.isMuted=!1,this.configuration={iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}],iceCandidatePoolSize:10},this.joinRoomById=function(){var i=m(function*(s){const o=lB(uo(n.firestore,"rooms"),s),a=yield Eae(o);if(alert(`Is room exists? ${a.exists()}`),a.exists()){n.peerConnection=new RTCPeerConnection(n.configuration),n.registerPeerConnectionListeners(),n.localStream.getTracks().forEach(h=>{console.log(n.localStream,h,n.peerConnection,"++++++"),n.peerConnection.addTrack(h,n.localStream)});const u=uo(o,"calleeCandidates");n.peerConnection.addEventListener("icecandidate",h=>{h.candidate?cB(u,h.candidate.toJSON()):console.log("Got final candidate!")}),n.peerConnection.addEventListener("track",h=>{console.log("Got remote track:",h.streams[0],h.streams),h.streams[0].getTracks().forEach(f=>{console.log("Add a track to the remoteStream:",f),n.remoteStream.addTrack(f)})});const c=a.data().offer;console.log("Got offer:",c),yield n.peerConnection.setRemoteDescription(new RTCSessionDescription(c));const l=yield n.peerConnection.createAnswer();console.log("Created answer:",l),yield n.peerConnection.setLocalDescription(l);const d={answer:{type:l.type,sdp:l.sdp}};yield Cae(o,d),tb(uo(o,"callerCandidates"),h=>{h.docChanges().forEach(function(){var f=m(function*(p){if("added"===p.type){let g=p.doc.data();console.log(`Got new remote ICE candidate: ${JSON.stringify(g)}`),yield n.peerConnection.addIceCandidate(new RTCIceCandidate(g))}});return function(p){return f.apply(this,arguments)}}())})}});return function(s){return i.apply(this,arguments)}}(),this.createRoom=m(function*(){const i=yield lB(uo(n.firestore,"rooms"));n.peerConnection=new RTCPeerConnection(n.configuration),n.registerPeerConnectionListeners(),n.localStream.getTracks().forEach(u=>{console.log(n.peerConnection,u,"_+"),n.peerConnection.addTrack(u,n.localStream)});const s=uo(i,"callerCandidates");n.peerConnection.addEventListener("icecandidate",u=>{u.candidate?(console.log("Got candidate: ",u.candidate),cB(s,u.candidate.toJSON())):console.log("Got final candidate!")});const o=yield n.peerConnection.createOffer();yield n.peerConnection.setLocalDescription(o),console.log("Created offer:",o);const a={offer:{type:o.type,sdp:o.sdp}};yield Tae(i,a),n.roomId=i.id,alert(`RoomID: ${i.id}`),n.peerConnection.addEventListener("track",u=>{console.log("Got remote track:",u.streams[0]),u.streams[0].getTracks().forEach(c=>{console.log("Add a track to the remoteStream:",c),n.remoteStream.addTrack(c)})}),tb(i,function(){var u=m(function*(c){const l=c.data();if(!n.peerConnection.currentRemoteDescription&&l&&l.answer){console.log("Got remote description: ",l.answer);const d=new RTCSessionDescription(l.answer);yield n.peerConnection.setRemoteDescription(d)}});return function(c){return u.apply(this,arguments)}}()),tb(uo(i,"calleeCandidates"),u=>{u.docChanges().forEach(function(){var c=m(function*(l){if("added"===l.type){let d=l.doc.data();console.log(`Got new remote ICE candidate: ${JSON.stringify(d)}`),yield n.peerConnection.addIceCandidate(new RTCIceCandidate(d))}});return function(l){return c.apply(this,arguments)}}())})});const r=uo(this.firestore,"rooms");this.item$=Iae(r)}collectIceCandidates(n,r,i,s){return m(function*(){const o=n.collection(i);r.addEventListener("icecandidate",a=>{if(a.candidate){const u=a.candidate.toJSON();o.add(u)}}),n.collection(s).onSnapshot(a=>{a.docChanges().forEach(u=>{if("added"===u.type){const c=new RTCIceCandidate(u.doc.data());r.addIceCandidate(c)}})})})()}openUserMedia(){var n=this;return m(function*(){const r=yield navigator.mediaDevices.getUserMedia({video:!0,audio:!0});n.localStream=r,n.remoteStream=new MediaStream})()}hangUp(){var n=this;return m(function*(){(n.localStream&&n.localStream.getTracks()||[]).forEach(s=>s.stop()),(n.remoteStream&&n.remoteStream.getTracks()||[]).forEach(s=>s.stop()),n.peerConnection&&n.peerConnection.close(),document.location.reload()})()}registerPeerConnectionListeners(){this.peerConnection.addEventListener("icegatheringstatechange",()=>{console.log(`ICE gathering state changed: ${this.peerConnection.iceGatheringState}`)}),this.peerConnection.addEventListener("connectionstatechange",()=>{console.log(`Connection state change: ${this.peerConnection.connectionState}`)}),this.peerConnection.addEventListener("signalingstatechange",()=>{console.log(`Signaling state change: ${this.peerConnection.signalingState}`)}),this.peerConnection.addEventListener("iceconnectionstatechange ",()=>{console.log(`ICE connection state change: ${this.peerConnection.iceConnectionState}`)})}handleMeetingCodeChange(n){this.meetingId=n.target.value}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=iu({type:t,selectors:[["app-home"]],decls:26,vars:4,consts:[[1,"home-conatainer"],[1,"action-container"],[1,"open-usermedia-btn",3,"click"],[1,"new-meeting-btn",3,"click"],["type","text","placeholder","Enter meeting code",1,"join-meeting-input",3,"change"],[1,"join-meeting-btn",3,"click"],[1,"hangup-btn",3,"click"],[1,"videos-container"],["muted","","autoplay","","playsinline","",1,"local-video",3,"muted","srcObject"],[3,"click"],["autoplay","","playsinline","",1,"remote-video",3,"srcObject"]],template:function(n,r){1&n&&(Ln(0,"div",0)(1,"h2"),qr(2,"Video calls and meetings for everyone."),bn(),Ln(3,"div",1)(4,"button",2),pr("click",function(){return r.openUserMedia()}),qr(5,"Open Camera & Mic"),bn(),Ln(6,"button",3),pr("click",function(){return r.createRoom()}),qr(7,"New Meeting"),bn(),Ln(8,"input",4),pr("change",function(s){return r.handleMeetingCodeChange(s)}),bn(),Ln(9,"button",5),pr("click",function(){return r.joinRoomById(r.meetingId)}),qr(10,"Join"),bn(),Ln(11,"button",6),pr("click",function(){return r.hangUp()}),qr(12,"Hang Up"),bn()(),Ln(13,"div",7)(14,"div")(15,"p"),qr(16,"Local Stream"),bn(),qo(17,"video",8),Ln(18,"div")(19,"button",9),pr("click",function(){return r.isMuted=!r.isMuted}),qr(20),bn()()(),Ln(21,"div")(22,"p"),qr(23,"Remote Stream"),bn(),qo(24,"video",10)(25,"div"),bn()()()),2&n&&(Cd(17),Vd("muted",r.isMuted)("srcObject",r.localStream),Cd(3),hy(r.isMuted?"Unmute":"Mute"),Cd(4),Vd("srcObject",r.remoteStream))},styles:[".home-conatainer[_ngcontent-%COMP%]{text-align:center}.action-container[_ngcontent-%COMP%]   .open-usermedia-btn[_ngcontent-%COMP%]{margin-right:8px}.action-container[_ngcontent-%COMP%]   .new-meeting-btn[_ngcontent-%COMP%], .action-container[_ngcontent-%COMP%]   .join-meeting-input[_ngcontent-%COMP%], .action-container[_ngcontent-%COMP%]   .join-meeting-btn[_ngcontent-%COMP%]{margin-right:8px;margin-left:8px}.action-container[_ngcontent-%COMP%]   .hangup-btn[_ngcontent-%COMP%]{margin-left:8px}.videos-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.videos-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:32px 8px}.videos-container[_ngcontent-%COMP%]   .local-video[_ngcontent-%COMP%], .videos-container[_ngcontent-%COMP%]   .remote-video[_ngcontent-%COMP%]{background:black;width:440px;height:330px}"]}),t})()}];let Sae=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vr({type:t}),t.\u0275inj=ur({imports:[IN.forRoot(bae),IN]}),t})(),Aae=(()=>{class t{constructor(){this.title="meet-app"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=iu({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&qo(0,"router-outlet")},dependencies:[$_]}),t})();const dB_firebaseConfig={apiKey:"AIzaSyBgnEp_k0sxRBb1jLo8t4z0dReGCA5XGlk",authDomain:"meet-app-98085.firebaseapp.com",projectId:"meet-app-98085",storageBucket:"meet-app-98085.appspot.com",messagingSenderId:"831735766683",appId:"1:831735766683:web:970e03227dc52e224f303e"};let xae=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vr({type:t,bootstrap:[Aae]}),t.\u0275inj=ur({imports:[m5,Sae,eZ(()=>tZ(dB_firebaseConfig)),wae(()=>Dae())]}),t})();(function b6(){cR=!1})(),g5().bootstrapModule(xae).catch(t=>console.error(t))}},Ie=>{Ie(Ie.s=582)}]);